<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="ratears blog">
    <meta name="description" content="ratears&#39;s blog">
    <meta name="author" content="ratears">
    
    <title>
        
            《MySQL 必知必会》study notes |
        
        ratears&#39;s blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
    
<link rel="stylesheet" href="/fontawesome/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/css/regular.min.css">

    
<link rel="stylesheet" href="/fontawesome/css/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/css/brands.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"ratears.gitee.io","root":"/","language":"en"};
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066cc","logo":"/images/logo.svg","favicon":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","avatar":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","font_size":null,"font_family":null,"hover":{"shadow":false,"scale":false},"first_screen":{"enable":false,"header_transparent":false,"background_img":"/images/bg.svg","description":"Stay focused and work hard","font_color":null,"hitokoto":false},"scroll":{"progress_bar":false,"percent":false}},"local_search":{"enable":false,"preload":false},"code_copy":{},"code_block":{"tools":{"enable":false,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":false},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.7"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":false,"wordcount":false,"min2read":false},"img_align":"left","copyright_info":false},"version":"3.5.2"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"};
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/logo.svg">
                </a>
            
            <a class="logo-title" href="/">
               ratears&#39;s blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">《MySQL 必知必会》study notes</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">ratears</span>
                            
                                <span class="author-label">Lv4</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2022-06-04 14:56:48</span>
        <span class="mobile">2022-06-04 14:56</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2022-06-04 14:56:48</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/database/">database</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/database/MySQL/">MySQL</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/database/">database</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/MySQL/">MySQL</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li>近期学习了极客时间的专栏《MySQL 必知必会》，对专栏的核心知识做了学习笔记，便于参考及查漏补缺</li>
</ul>
<br>

<br>

<br>

<h1 id="课前准备-2讲"><a href="#课前准备-2讲" class="headerlink" title="课前准备 (2讲)"></a>课前准备 (2讲)</h1><h2 id="开篇词-在实战中学习，是解锁MySQL技能的最佳方法"><a href="#开篇词-在实战中学习，是解锁MySQL技能的最佳方法" class="headerlink" title="开篇词-在实战中学习，是解锁MySQL技能的最佳方法"></a>开篇词-在实战中学习，是解锁MySQL技能的最佳方法</h2><ul>
<li>熟练使用MySQL，对技术人来说变得越来越重要，是我们拿到心仪Offer的敲门砖</li>
<li><font color="red"><strong>最重要的绝对不是你的知识储备量，而是你解决实际问题的能力</strong></font></li>
<li><strong>正确的学习方法，远比你投入的时间更重要</strong>。而实战，就是最高效的方法</li>
<li><strong>项目的实际需求–&gt;解决问题所需的知识点–&gt;用好这些知识的实战经验</strong></li>
</ul>
<br>

<br>

<br>

<h1 id="实践篇-13讲"><a href="#实践篇-13讲" class="headerlink" title="实践篇 (13讲)"></a>实践篇 (13讲)</h1><h2 id="01-存储：一个完整的数据存储过程是怎样的？"><a href="#01-存储：一个完整的数据存储过程是怎样的？" class="headerlink" title="01 | 存储：一个完整的数据存储过程是怎样的？"></a>01 | 存储：一个完整的数据存储过程是怎样的？</h2><ul>
<li>一个完整的<strong>数据存储过程总共有4步，分别是创建数据库、确认字段、创建数据表、插入数据</strong></li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.4qktlsqna5y0.webp" width="65%"/>



<ul>
<li>MySQL数据库系统从大到小依次是：数据库服务器、数据库、数据表、数据表的行与列</li>
<li><strong>数据库是MySQL里面最大的存储单元</strong> </li>
</ul>
<br>

<br>

<h2 id="①-创建数据库"><a href="#①-创建数据库" class="headerlink" title="① 创建数据库"></a>① 创建数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 创建数据库</span><br><span class="line">CREATE DATABASE `demo`  DEFAULT CHARACTER SET utf8mb4;</span><br><span class="line"></span><br><span class="line"># 查看数据库</span><br><span class="line">mysql&gt; SHOW DATABASES;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| demo               |</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>“information_schema”是MySQL系统自带的数据库，主要保存MySQL数据库服务器的系统信息，比如数据库的名称、数据表的名称、字段名称、存取权限、数据文件所在的文件夹和系统使用的文件夹，等等。</p>
</li>
<li><p>“performance_schema”是MySQL系统自带的数据库，可以用来监控MySQL的各类性能指标</p>
</li>
<li><p>“sys”数据库是MySQL系统自带的数据库，主要作用是，以一种更容易被理解的方式展示MySQL数据库服务器的各类性能指标，帮助系统管理员和开发人员监控MySQL的技术性能</p>
</li>
<li><p>“mysql”数据库保存了MySQL数据库服务器运行时需要的系统信息，比如数据文件夹、当前使用的字符集、约束检查信息，等等</p>
</li>
<li><p>想深入了解MySQL数据库系统的相关信息，可以看下<a class="link"   target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/system-schema.html" >官方文档<i class="fas fa-external-link-alt"></i></a></p>
</li>
</ul>
<br>

<br>

<h2 id="②-确认字段"><a href="#②-确认字段" class="headerlink" title="② 确认字段"></a>② 确认字段</h2><ul>
<li>MySQL会让我们确认新表中有哪些列，以及它们的数据类型。这些列就是MySQL数据表的字段</li>
</ul>
<br>

<br>

<h2 id="③-创建数据表"><a href="#③-创建数据表" class="headerlink" title="③ 创建数据表"></a>③ 创建数据表</h2><ul>
<li><strong>创建表的时候，最好指明数据库</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE demo.test</span><br><span class="line">( </span><br><span class="line">  barcode text,</span><br><span class="line">  goodsname text,</span><br><span class="line">  price int</span><br><span class="line">); </span><br></pre></td></tr></table></figure>

<br>

<h3 id="查看表的结构"><a href="#查看表的结构" class="headerlink" title="查看表的结构"></a>查看表的结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 查看表的结构</span><br><span class="line">mysql&gt; describe demo.test;</span><br><span class="line">+-----------+------+------+-----+---------+-------+</span><br><span class="line">| Field     | Type | Null | Key | Default | Extra |</span><br><span class="line">+-----------+------+------+-----+---------+-------+</span><br><span class="line">| barcode   | text | YES  |     | NULL    |       |</span><br><span class="line">| goodsname | text | YES  |     | NULL    |       |</span><br><span class="line">| price     | int  | YES  |     | NULL    |       |</span><br><span class="line">+-----------+------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>Field：表示字段名称</li>
<li>Type：表示字段类型</li>
<li>Null：表示这个字段是否允许是空值（NULL）。注意，<strong>在MySQL里面，空值不等于空字符串。一个空字符串的长度是0，而一个空值的长度是空。而且，在MySQL里面，空值是占用空间的。</strong></li>
<li>Key：我们暂时把它叫做键。</li>
<li>Default：表示默认值。</li>
<li>Extra：表示附加信息。</li>
</ul>
<br>

<h3 id="查看数据库中的表"><a href="#查看数据库中的表" class="headerlink" title="查看数据库中的表"></a>查看数据库中的表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE demo;</span><br><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="设置主键"><a href="#设置主键" class="headerlink" title="设置主键"></a>设置主键</h3><ul>
<li>MySQL中数据表的主键，是表中的一个字段或者几个字段的组合。它主要有3个特征：<ul>
<li>必须唯一，不能重复；</li>
<li>不能是空；</li>
<li>必须可以唯一标识数据表中的记录</li>
</ul>
</li>
</ul>
<blockquote>
<p>一个MySQL数据表中只能有一个主键。虽然MySQL也允许创建没有主键的表，但是，<strong>建议一定要给表定义主键，并且养成习惯。因为主键可以帮助减少错误数据，并且提高查询的速度</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 如果数据表中所有的字段都有重复的可能。我们可以自己添加一个不会重复的字段来做主键</span><br><span class="line">ALTER TABLE demo.test ADD COLUMN itemnumber int PRIMARY KEY AUTO_INCREMENT;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="④-插入数据"><a href="#④-插入数据" class="headerlink" title="④ 插入数据"></a>④ 插入数据</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO demo.test VALUES (&#x27;003&#x27;,&#x27;橡皮&#x27;,3);</span><br></pre></td></tr></table></figure>

<ul>
<li>要插入数据的字段名也可以不写，但是建议不要怕麻烦，<strong>一定要每次都写</strong>。这样做的好处是可读性好，不易出错，而且容易修改。否则，如果记不住表的字段，就只能去查表的结构，才能知道值所对应的字段了。</li>
<li>由于字段itemnumber定义了AUTO_INCREMENT，所以我们插入一条记录的时候，不给它赋值，系统也会自动给它赋值。而且，每次赋值，都会在上次的赋值基础上，自动增加1。也可以在插入一条记录的时候给itemnumber 赋值，由于它是主键，新的值必须与已有记录的itemnumber值不同，否则系统会提示错误。</li>
</ul>
<br>

<br>

<h2 id="小结（sql汇总）"><a href="#小结（sql汇总）" class="headerlink" title="小结（sql汇总）"></a>小结（sql汇总）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据库</span><br><span class="line">CREATE DATABASE demo；</span><br><span class="line">-- 删除数据库</span><br><span class="line">DROP DATABASE demo；</span><br><span class="line">-- 查看数据库</span><br><span class="line">SHOW DATABASES;</span><br><span class="line">-- 创建数据表：</span><br><span class="line">CREATE TABLE demo.test</span><br><span class="line">(  </span><br><span class="line">  barcode text,</span><br><span class="line">  goodsname text,</span><br><span class="line">  price int</span><br><span class="line">); </span><br><span class="line">-- 查看表结构</span><br><span class="line">DESCRIBE demo.test;</span><br><span class="line">-- 查看所有表</span><br><span class="line">DESCRIBE TABLES;</span><br><span class="line">-- 添加主键</span><br><span class="line">ALTER TABLE demo.test</span><br><span class="line">ADD COLUMN itemnumber int PRIMARY KEY AUTO_INCREMENT;</span><br><span class="line">-- 向表中添加数据</span><br><span class="line">INSERT INTO demo.test</span><br><span class="line">(barcode,goodsname,price)</span><br><span class="line">VALUES (&#x27;0001&#x27;,&#x27;本&#x27;,3);</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="02-字段：这么多字段类型，该怎么定义？"><a href="#02-字段：这么多字段类型，该怎么定义？" class="headerlink" title="02 | 字段：这么多字段类型，该怎么定义？"></a>02 | 字段：这么多字段类型，该怎么定义？</h2><blockquote>
<p>MySQL中有很多字段类型，比如整数、文本、浮点数，等等。如果类型定义合理，就能节省存储空间，提升数据查询和处理的速度，相反，如果数据类型定义不合理，就有可能会导致数据超出取值范围，引发系统报错，甚至可能会出现计算错误的情况，进而影响到整个系统。</p>
</blockquote>
<br>

<br>

<h3 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h3><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.5qvu0awjo5s0.webp" width="75%"/>



<ul>
<li><p>在评估用哪种整数类型的时候，<strong>需要考虑存储空间和可靠性的平衡问题</strong>：一方面，用占用字节数少的整数类型可以节省存储空间；另一方面，要是为了节省存储空间，使用的整数类型取值范围太小，一旦遇到超出取值范围的情况，就可能引起系统错误，影响可靠性。</p>
</li>
<li><p>最佳实践</p>
<ul>
<li>在评估用哪种整数类型的时候，<strong>需要考虑存储空间和可靠性的平衡问题</strong>（在实际工作中，系统故障产生的成本远远超过增加几个字段存储空间所产生的成本）</li>
<li><strong>确保数据不会超过取值范围</strong>，再去考虑如何节省存储空间</li>
</ul>
</li>
</ul>
<br>

<br>

<h3 id="浮点数类型和定点数类型"><a href="#浮点数类型和定点数类型" class="headerlink" title="浮点数类型和定点数类型"></a>浮点数类型和定点数类型</h3><blockquote>
<p>可以把整数看成小数的一个特例</p>
</blockquote>
<ul>
<li>FLOAT表示单精度浮点数</li>
<li>DOUBLE表示双精度浮点数</li>
<li>REAL默认就是DOUBLE。如果你把SQL模式设定为启用“REAL_AS_FLOAT”，那么，MySQL就认为REAL是FLOAT</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 如果要启用“REAL_AS_FLOAT”，就可以通过以下SQL语句实现：</span><br><span class="line">SET sql_mode = “REAL_AS_FLOAT”;</span><br></pre></td></tr></table></figure>

<ul>
<li>FLOAT占用字节数少，取值范围小；DOUBLE占用字节数多，取值范围也大</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.3rxrxdypui80.webp" width="70%" />



<ul>
<li>为什么浮点数类型的无符号数取值范围，只相当于有符号数取值范围的一半，也就是只相当于有符号数取值范围大于等于零的部分呢？</li>
</ul>
<blockquote>
<p>原因是：MySQL是按照这个格式存储浮点数的：符号（S）、尾数（M）和阶码（E）。因此，无论有没有符号，MySQL的浮点数都会存储表示符号的部分。因此，所谓的无符号数取值范围，其实就是有符号数取值范围大于等于零的部分。</p>
</blockquote>
<br>

<h4 id="浮点数类型有缺陷：不精准"><a href="#浮点数类型有缺陷：不精准" class="headerlink" title="浮点数类型有缺陷：不精准"></a>浮点数类型有缺陷：不精准</h4><ul>
<li>不精准问题原因在于：<strong>MySQL对浮点类型数据的存储方式上</strong></li>
</ul>
<blockquote>
<p>MySQL用4个字节存储FLOAT类型数据，用8个字节来存储DOUBLE类型数据。无论哪个，都是采用二进制的方式来进行存储的。比如9.625，用二进制来表达，就是1001.101，或者表达成1.001101×2^3。看到了吗？如果尾数不是0或5（比如9.624），你就无法用一个二进制数来精确表达。怎么办呢？就只好在取值允许的范围内进行近似（四舍五入）。</p>
</blockquote>
<ul>
<li>为什么数据类型是DOUBLE的时候，计算结果误差比FLOAT小一点？</li>
</ul>
<blockquote>
<p>原因：DOUBLE有8位字节，精度更高</p>
</blockquote>
<br>

<h4 id="定点数类型：DECIMAL"><a href="#定点数类型：DECIMAL" class="headerlink" title="定点数类型：DECIMAL"></a><strong>定点数类型：DECIMAL</strong></h4><ul>
<li>DECIMAL的存储方式决定了它一定是精准的</li>
</ul>
<blockquote>
<p>浮点数类型是把十进制数转换成二进制数存储，DECIMAL则不同，它是把十进制数的整数部分和小数部分拆开，分别转换成十六进制数，进行存储。这样，所有的数值，就都可以精准表达了，不会存在因为无法表达而损失精度的问题</p>
</blockquote>
<h4 id="小结：浮点数和定点数的特点-适用场景-最佳实践"><a href="#小结：浮点数和定点数的特点-适用场景-最佳实践" class="headerlink" title="小结：浮点数和定点数的特点/适用场景/最佳实践"></a>小结：浮点数和定点数的特点/适用场景/最佳实践</h4><blockquote>
<p>浮点类型取值范围大，但是不精准，适用于需要取值范围大，又可以容忍微小误差的科学计算场景（比如计算化学、分子建模、流体动力学等）；定点数类型取值范围相对小，但是精准，没有误差，适合于对精度要求极高的场景（比如涉及金额计算的场景）</p>
</blockquote>
<br>

<h3 id="文本类型"><a href="#文本类型" class="headerlink" title="文本类型"></a>文本类型</h3><ul>
<li>CHAR(M)：固定长度字符串。CHAR(M)类型必须预先定义字符串长度。如果太短，数据可能会超出范围；如果太长，又浪费存储空间。</li>
<li>VARCHAR(M)： 可变长度字符串。VARCHAR(M)也需要预先知道字符串的最大长度，不过只要不超过这个最大长度，具体存储的时候，是按照实际字符串长度存储的。</li>
<li>TEXT：字符串。系统自动按照实际长度存储，不需要预先定义长度。</li>
<li>ENUM： 枚举类型，取值必须是预先设定的一组字符串值范围之内的一个，必须要知道字符串所有可能的取值。</li>
<li>SET：是一个字符串对象，取值必须是在预先设定的字符串值范围之内的0个或多个，也必须知道字符串所有可能的取值。</li>
</ul>
<ul>
<li><p>TEXT类型也有4种，它们的区别就是最大长度不同。</p>
<ul>
<li><p>TINYTEXT：占用255字符。</p>
</li>
<li><p>TEXT： 占用65535字符。</p>
</li>
<li><p>MEDIUMTEXT：占用16777215字符。</p>
</li>
<li><p>LONGTEXT： 占用4294967295字符（相当于4GB）</p>
</li>
</ul>
</li>
<li><p>TEXT类型存在的问题：<strong>由于实际存储的长度不确定，MySQL不允许TEXT类型的字段做主键。遇到这种情况，你只能采用CHAR(M)，或者VARCHAR(M)</strong></p>
</li>
<li><p>最佳实践</p>
<ul>
<li>项目中，只要不是主键字段，就可以按照数据可能的最大长度，选择这几种TEXT类型中的的一种，作为存储字符串的数据类型</li>
</ul>
</li>
</ul>
<br>

<br>

<h3 id="日期与时间类型"><a href="#日期与时间类型" class="headerlink" title="日期与时间类型"></a>日期与时间类型</h3><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.4fo8vblt22w0.webp" width="70%" />

<ul>
<li>最佳实践</li>
</ul>
<blockquote>
<p><strong>在实际项目中，尽量用DATETIME类型</strong>。因为这个数据类型包括了完整的日期和时间信息，使用起来比较方便</p>
<p>为了确保数据的完整性和系统的稳定性，优先考虑使用DATETIME类型。因为虽然DATETIME类型占用的存储空间最多，但是它表达的时间最为完整，取值范围也最大</p>
</blockquote>
<ul>
<li>为什么时间类型TIME的取值范围不是-23:59:59～23:59:59呢</li>
</ul>
<blockquote>
<p>原因是MySQL设计的TIME类型，不光表示一天之内的时间，而且可以用来表示一个时间间隔，这个时间间隔可以超过24小时。</p>
</blockquote>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 修改字段类型语句</span><br><span class="line">ALTER TABLE demo.goodsmaster</span><br><span class="line">MODIFY COLUMN price DOUBLE;</span><br><span class="line">-- 计算字段合计函数：</span><br><span class="line">SELECT SUM(price)</span><br><span class="line">FROM demo.goodsmaster;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>在定义数据类型时，如果确定是整数，就用INT；如果是小数，一定用定点数类型DECIMAL；如果是字符串，只要不是主键，就用TEXT；如果是日期与时间，就用DATETIME。（首先确保你的系统不会因为数据类型定义出错。）</p>
</blockquote>
<br>

<br>

<h2 id="03-表：怎么创建和修改数据表？"><a href="#03-表：怎么创建和修改数据表？" class="headerlink" title="03 | 表：怎么创建和修改数据表？"></a>03 | 表：怎么创建和修改数据表？</h2><h3 id="创建数据表"><a href="#创建数据表" class="headerlink" title="创建数据表"></a>创建数据表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE &lt;表名&gt;</span><br><span class="line">&#123;</span><br><span class="line">字段名1 数据类型 [字段级别约束] [默认值]，</span><br><span class="line">字段名2 数据类型 [字段级别约束] [默认值]，</span><br><span class="line">......</span><br><span class="line">[表级别约束]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>“约束”限定了表中数据应该满足的条件</strong></li>
<li>MySQL会根据这些限定条件，对表的操作进行监控，阻止破坏约束条件的操作执行，并提示错误，从而确保表中数据的唯一性、合法性和完整性</li>
</ul>
<br>

<br>

<h3 id="都有哪些约束"><a href="#都有哪些约束" class="headerlink" title="都有哪些约束"></a>都有哪些约束</h3><p><strong>1.非空约束</strong></p>
<ul>
<li>非空约束表示字段值不能为空</li>
</ul>
<p><strong>2.唯一性约束</strong></p>
<ul>
<li>唯一性约束表示这个字段的值不能重复。<strong>满足主键约束的字段，自动满足非空约束，但是满足唯一性约束的字段，则可以是空值</strong></li>
</ul>
<p><strong>3.自增约束</strong></p>
<ul>
<li>在数据表中，只有整数类型的字段（包括TINYINT、SMALLINT、MEDIUMINT、INT和BIGINT），才可以定义自增约束。自增约束的字段，每增加一条数据，值自动增加1。</li>
<li>给自增约束的字段赋值，这个时候，MySQL会重置自增约束字段的自增基数，下次添加数据的时候，自动以自增约束字段的最大值加1为新的字段值。</li>
</ul>
<br>

<br>

<h3 id="如何修改表"><a href="#如何修改表" class="headerlink" title="如何修改表"></a>如何修改表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE demo.importheadhist</span><br><span class="line">LIKE demo.importhead;</span><br><span class="line"></span><br><span class="line">ALTER TABLE demo.importheadhist ADD confirmer INT;</span><br><span class="line"></span><br><span class="line">ALTER TABLE demo.importheadhist ADD confirmdate DATETIME;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="修改字段"><a href="#修改字段" class="headerlink" title="修改字段"></a>修改字段</h3><ul>
<li>change 可以更改列名 和 列类型 (每次都要把新列名和旧列名写上, 即使两个列名没有更改,只是改了类型)</li>
<li>modify 只能更改列属性 只需要写一次列名, 比change 省事点</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- modify 能修改字段类型、类型长度、默认值、注释</span><br><span class="line">ALTER  TABLE 表名 MODIFY [COLUMN] 字段名 新数据类型 新类型长度  新默认值  新注释;</span><br><span class="line"></span><br><span class="line">ALTER  TABLE 表名 CHANGE [column] 旧字段名 新字段名 新数据类型;</span><br><span class="line"></span><br><span class="line">-- 指定添加字段在表中位置</span><br><span class="line">ALTER TABLE demo.importheadhist ADD suppliername TEXT AFTER supplierid;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE</span><br><span class="line">(</span><br><span class="line">字段名 字段类型 PRIMARY KEY</span><br><span class="line">);</span><br><span class="line">CREATE TABLE</span><br><span class="line">(</span><br><span class="line">字段名 字段类型 NOT NULL</span><br><span class="line">);</span><br><span class="line">CREATE TABLE</span><br><span class="line">(</span><br><span class="line">字段名 字段类型 UNIQUE</span><br><span class="line">);</span><br><span class="line">CREATE TABLE</span><br><span class="line">(</span><br><span class="line">字段名 字段类型 DEFAULT 值</span><br><span class="line">);</span><br><span class="line">-- 这里要注意自增类型的条件，字段类型必须是整数类型。</span><br><span class="line">CREATE TABLE</span><br><span class="line">(</span><br><span class="line">字段名 字段类型 AUTO_INCREMENT</span><br><span class="line">);</span><br><span class="line">-- 在一个已经存在的表基础上，创建一个新表</span><br><span class="line">CREATE demo.importheadhist LIKE demo.importhead;</span><br><span class="line">-- 修改表的相关语句</span><br><span class="line">ALTER TABLE 表名 CHANGE 旧字段名 新字段名 数据类型;</span><br><span class="line">ALTER TABLE 表名 ADD COLUMN 字段名 字段类型 FIRST|AFTER 字段名;</span><br><span class="line">ALTER TABLE 表名 MODIFY 字段名 字段类型 FIRST|AFTER 字段名;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="04-增删改查：如何操作表中的数据？"><a href="#04-增删改查：如何操作表中的数据？" class="headerlink" title="04 | 增删改查：如何操作表中的数据？"></a>04 | 增删改查：如何操作表中的数据？</h2><h3 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 表名 [(字段名 [,字段名] ...)] VALUES (值的列表);</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="插入数据记录"><a href="#插入数据记录" class="headerlink" title="插入数据记录"></a>插入数据记录</h3><ul>
<li><strong>部分插入一条数据记录是可以的，但前提是，没有赋值的字段，一定要让MySQL知道如何处理，比如可以为空、有默认值，或者是自增约束字段，等等，否则，MySQL会提示错误的</strong></li>
</ul>
<br>

<br>

<h3 id="插入查询结果"><a href="#插入查询结果" class="headerlink" title="插入查询结果"></a>插入查询结果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 表名 （字段名）</span><br><span class="line">SELECT 字段名或值</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 条件</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM 表名 WHERE 条件</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 表名 SET 字段名=值 WHERE 条件</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>不要修改主键字段的值</strong>，如果你必须要修改主键的值，那有可能就是主键设置得不合理</li>
</ul>
<br>

<br>

<h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT *|字段列表</span><br><span class="line">FROM 数据源</span><br><span class="line">WHERE 条件</span><br><span class="line">GROUP BY 字段</span><br><span class="line">HAVING 条件</span><br><span class="line">ORDER BY 字段</span><br><span class="line">LIMIT 起始点，行数</span><br><span class="line"></span><br><span class="line">-- GROUP BY：作用是告诉MySQL，查询结果要如何分组，经常与MySQL的聚合函数一起使用</span><br><span class="line">-- HAVING：用于筛选查询结果，跟WHERE类似</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO 表名 [(字段名 [,字段名] ...)] VALUES (值的列表);</span><br><span class="line"> </span><br><span class="line">INSERT INTO 表名 （字段名）</span><br><span class="line">SELECT 字段名或值</span><br><span class="line">FROM 表名</span><br><span class="line">WHERE 条件</span><br><span class="line"> </span><br><span class="line">DELETE FROM 表名</span><br><span class="line">WHERE 条件</span><br><span class="line"> </span><br><span class="line">UPDATE 表名</span><br><span class="line">SET 字段名=值</span><br><span class="line">WHERE 条件</span><br><span class="line"></span><br><span class="line">SELECT *|字段列表</span><br><span class="line">FROM 数据源</span><br><span class="line">WHERE 条件</span><br><span class="line">GROUP BY 字段</span><br><span class="line">HAVING 条件</span><br><span class="line">ORDER BY 字段</span><br><span class="line">LIMIT 起始点，行数</span><br></pre></td></tr></table></figure>

<ul>
<li>如果我们把查询的结果插入到表中时，导致主键约束或者唯一性约束被破坏了，就可以用“ON DUPLICATE”关键字进行处理。这个关键字的作用是，告诉MySQL，如果遇到重复的数据，该如何处理。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO demo.goodsmaster </span><br><span class="line">SELECT *</span><br><span class="line">FROM demo.goodsmaster1 as a</span><br><span class="line">ON DUPLICATE KEY UPDATE barcode = a.barcode,goodsname=a.goodsname;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h1 id="05-主键：如何正确设置主键？"><a href="#05-主键：如何正确设置主键？" class="headerlink" title="05 | 主键：如何正确设置主键？"></a>05 | 主键：如何正确设置主键？</h1><h3 id="业务字段做主键"><a href="#业务字段做主键" class="headerlink" title="业务字段做主键"></a>业务字段做主键</h3><ul>
<li><strong>尽量不要用业务字段，也就是跟业务有关的字段做主键</strong>。毕竟，作为项目设计的技术人员，我们谁也无法预测在项目的整个生命周期中，哪个业务字段会因为项目的业务需求而有重复，或者重用之类的情况出现</li>
</ul>
<br>

<h3 id="使用自增字段做主键"><a href="#使用自增字段做主键" class="headerlink" title="使用自增字段做主键"></a>使用自增字段做主键</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UPDATE demo.trans AS a,demo.membermaster AS b</span><br><span class="line">SET a.memberid=b.id</span><br><span class="line">WHERE a.transactionno &gt; 0  </span><br><span class="line">AND a.cardno = b.cardno; </span><br><span class="line">-- 这样操作可以不用删除trans的内容，在实际工作中更适合</span><br></pre></td></tr></table></figure>

<ul>
<li>如果是一个小项目，只有一个MySQL数据库服务器，用添加自增字段作为主键的办法是可以的。不过，这并不意味着，在任何情况下你都可以这么做</li>
<li><strong>自增字段做主键，对于单机系统来说是没问题的。但是，如果有多台服务器，各自都可以录入数据，那就不一定适用了。因为如果每台机器各自产生的数据需要合并，就可能会出现主键重复的问题</strong></li>
</ul>
<br>

<h3 id="手动赋值字段做主键"><a href="#手动赋值字段做主键" class="headerlink" title="手动赋值字段做主键"></a>手动赋值字段做主键</h3><ul>
<li><strong>我们可以采用手动赋值的办法，通过一定的逻辑，确保字段值在全系统的唯一性，这样就可以规避主键重复的问题了</strong></li>
</ul>
<blockquote>
<p>取消字段“id”的自增属性，改成信息系统在添加会员的时候对“id”进行赋值。</p>
<p>门店在添加会员的时候，先到总部MySQL数据库中获取这个最大值，在这个基础上加1，然后用这个值作为新会员的“id”，同时，更新总部MySQL数据库管理信息表中的当前会员编号的最大值</p>
<p>各个门店添加会员的时候，都对同一个总部MySQL数据库中的数据表字段进行操作，就解决了各门店添加会员时会员编号冲突的问题，同时也避免了使用业务字段导致数据错误的问题</p>
</blockquote>
<br>

<h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><ul>
<li>刚开始使用MySQL时，很多人都很容易犯的错误是喜欢用业务字段做主键，想当然地认为了解业务需求，但实际情况往往出乎意料，而更改主键设置的成本非常高。所以，如果你的系统比较复杂，尽量给表加一个字段做主键，采用手动赋值的办法，虽然系统开发的时候麻烦一点，却可以避免后面出大问题。</li>
</ul>
<br>

<br>

<h1 id="06-外键和连接：如何做关联查询？"><a href="#06-外键和连接：如何做关联查询？" class="headerlink" title="06 | 外键和连接：如何做关联查询？"></a>06 | 外键和连接：如何做关联查询？</h1><ul>
<li><strong>把分散在多个不同的表里的数据查询出来的操作，就是多表查询</strong></li>
</ul>
<br>

<h3 id="创建外键"><a href="#创建外键" class="headerlink" title="创建外键"></a>创建外键</h3><ul>
<li><strong>外键就是从表中用来引用主表中数据的那个公共字段</strong></li>
</ul>
<blockquote>
<p>在MySQL中，外键是通过外键约束来定义的。外键约束就是约束的一种，它必须在从表中定义，包括指明哪个是外键字段，以及外键字段所引用的主表中的主键字段是什么。MySQL系统会根据外键约束的定义，监控对主表中数据的删除操作。如果发现要删除的主表记录，正在被从表中某条记录的外键字段所引用，MySQL就会提示错误，从而确保了关联数据不会缺失。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-- 外键约束定义的语法结构</span><br><span class="line">[CONSTRAINT &lt;外键约束名称&gt;] FOREIGN KEY 字段名</span><br><span class="line">REFERENCES &lt;主表名&gt; 字段名</span><br><span class="line"></span><br><span class="line">-- 外键约束可以在创建表的时候定义</span><br><span class="line">CREATE TABLE 从表名</span><br><span class="line">(</span><br><span class="line">  字段名 类型,</span><br><span class="line">  ...</span><br><span class="line">-- 定义外键约束，指出外键字段和参照的主表字段</span><br><span class="line">CONSTRAINT 外键约束名</span><br><span class="line">FOREIGN KEY (字段名) REFERENCES 主表名 (字段名)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">-- 可以通过修改表来定义。</span><br><span class="line">ALTER TABLE 从表名 ADD CONSTRAINT 约束名 FOREIGN KEY 字段名 REFERENCES 主表名 （字段名）;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><ul>
<li><p>MySQL中，有2种类型的连接，分别是内连接（INNER JOIN）和外连接（OUTER JOIN</p>
<ul>
<li>内连接表示查询结果只返回符合连接条件的记录</li>
<li>外连接则不同，表示查询结果返回某一个表中的所有记录，以及另一个表中满足连接条件的记录<ul>
<li>左连接，一般简写成LEFT JOIN，返回左边表中的所有记录，以及右表中符合连接条件的记录。</li>
<li>右连接，一般简写成RIGHT JOIN，返回右边表中的所有记录，以及左表中符合连接条件的记录</li>
</ul>
</li>
</ul>
</li>
<li><p>在MySQL里面，关键字JOIN、INNER JOIN、CROSS JOIN的含义是一样的，都表示内连接</p>
</li>
</ul>
<blockquote>
<p>大型网站的中央数据库，可能会因为外键约束的系统开销而变得非常慢。所以，MySQL允许你不使用系统自带的外键约束，在应用层面完成检查数据一致性的逻辑。也就是说，即使你不用外键约束，也要想办法通过应用层面的附加逻辑，来实现外键约束的功能，确保数据的一致性。</p>
</blockquote>
<br>

<h3 id="小结-3"><a href="#小结-3" class="headerlink" title="小结"></a>小结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- 定义外键约束：</span><br><span class="line">CREATE TABLE 从表名</span><br><span class="line">(</span><br><span class="line">字段 字段类型</span><br><span class="line">....</span><br><span class="line">CONSTRAINT 外键约束名称</span><br><span class="line">FOREIGN KEY (字段名) REFERENCES 主表名 (字段名称)</span><br><span class="line">);</span><br><span class="line">ALTER TABLE 从表名 ADD CONSTRAINT 约束名 FOREIGN KEY 字段名 REFERENCES 主表名 （字段名）;</span><br><span class="line"></span><br><span class="line">-- 连接查询</span><br><span class="line">SELECT 字段名</span><br><span class="line">FROM 表名 AS a</span><br><span class="line">JOIN 表名 AS b</span><br><span class="line">ON (a.字段名称=b.字段名称);</span><br><span class="line"> </span><br><span class="line">SELECT 字段名</span><br><span class="line">FROM 表名 AS a</span><br><span class="line">LEFT JOIN 表名 AS b</span><br><span class="line">ON (a.字段名称=b.字段名称);</span><br><span class="line"> </span><br><span class="line">SELECT 字段名</span><br><span class="line">FROM 表名 AS a</span><br><span class="line">RIGHT JOIN 表名 AS b</span><br><span class="line">ON (a.字段名称=b.字段名称);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>无法承担外键约束的成本，也可以不定义外键约束，但是一定要在应用层面实现外键约束的逻辑功能，这样才能确保系统的正确可靠</strong></li>
</ul>
<br>

<br>

<h1 id="07-条件语句：WHERE-与-HAVING有什么不同"><a href="#07-条件语句：WHERE-与-HAVING有什么不同" class="headerlink" title="07 | 条件语句：WHERE 与 HAVING有什么不同?"></a>07 | 条件语句：WHERE 与 HAVING有什么不同?</h1><br>

<br>

<br>

<h1 id="08-聚合函数：怎么高效地进行分组统计？"><a href="#08-聚合函数：怎么高效地进行分组统计？" class="headerlink" title="08 | 聚合函数：怎么高效地进行分组统计？"></a>08 | 聚合函数：怎么高效地进行分组统计？</h1><br>

<br>

<br>

<h1 id="09-时间函数：时间类数据，MySQL是怎么处理的？"><a href="#09-时间函数：时间类数据，MySQL是怎么处理的？" class="headerlink" title="09 | 时间函数：时间类数据，MySQL是怎么处理的？"></a>09 | 时间函数：时间类数据，MySQL是怎么处理的？</h1><br/>

<h1 id="SQL汇总"><a href="#SQL汇总" class="headerlink" title="SQL汇总"></a>SQL汇总</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据库</span><br><span class="line">CREATE DATABASE demo；</span><br><span class="line">-- 删除数据库</span><br><span class="line">DROP DATABASE demo；</span><br><span class="line">-- 查看数据库</span><br><span class="line">SHOW DATABASES;</span><br><span class="line">-- 创建数据表：</span><br><span class="line">CREATE TABLE demo.test</span><br><span class="line">(  </span><br><span class="line">  barcode text,</span><br><span class="line">  goodsname text,</span><br><span class="line">  price int</span><br><span class="line">); </span><br><span class="line">-- 查看表结构</span><br><span class="line">DESCRIBE demo.test;</span><br><span class="line">-- 查看所有表</span><br><span class="line">-- DESCRIBE TABLES;</span><br><span class="line">-- 添加主键</span><br><span class="line">ALTER TABLE demo.test</span><br><span class="line">ADD COLUMN itemnumber int PRIMARY KEY AUTO_INCREMENT;</span><br><span class="line">-- 向表中添加数据</span><br><span class="line">INSERT INTO demo.test</span><br><span class="line">(barcode,goodsname,price)</span><br><span class="line">VALUES (&#x27;0001&#x27;,&#x27;本&#x27;,3);</span><br><span class="line"></span><br><span class="line">-- 修改字段类型语句</span><br><span class="line">ALTER TABLE demo.goodsmaster</span><br><span class="line">MODIFY COLUMN price DOUBLE;</span><br><span class="line">-- 计算字段合计函数：</span><br><span class="line">SELECT SUM(price)</span><br><span class="line">FROM demo.goodsmaster;</span><br></pre></td></tr></table></figure>

<br>

<br>

<br>

<h1 id="参考延伸"><a href="#参考延伸" class="headerlink" title="参考延伸"></a>参考延伸</h1><ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://www.sqlstyle.guide/zh/" >SQL样式指南<i class="fas fa-external-link-alt"></i></a></li>
<li></li>
</ul>
<h1 id="学习备注"><a href="#学习备注" class="headerlink" title="学习备注"></a>学习备注</h1><blockquote>
<ol>
<li>work_bench 的熟悉使用</li>
<li>浮点数存储数据的方式，需要深入理解一下</li>
<li>需要了解，修改表名，不同位置插入等</li>
</ol>
</blockquote>
<br>

<br>

<br>

<img src="" width="70"/>

<br>


            </div>

            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/database/">#database</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/MySQL/">#MySQL</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2022/%E3%80%8A%E9%80%8F%E8%A7%86-HTTP-%E5%8D%8F%E8%AE%AE%E3%80%8Bstudy-notes/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">《透视 HTTP 协议》study notes</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2022/linux%E5%AE%9E%E6%88%98%E6%8A%80%E8%83%BD/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">linux实战技能</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2020</span> -
            
            2022
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">ratears</a>
            
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.5.2</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>










<div class="post-scripts">
    
        
<script src="/js/post-helper.js"></script>

        
        
    
</div>



</body>
</html>
