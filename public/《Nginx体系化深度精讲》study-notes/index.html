<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="ratears blog">
    <meta name="description" content="ratears&#39;s blog">
    <meta name="author" content="ratears">
    
    <title>
        
            ã€ŠNginxä½“ç³»åŒ–æ·±åº¦ç²¾è®²ã€‹study notes |
        
        ratears&#39;s blog
    </title>
    
<link rel="stylesheet" href="../css/style.css">

    <link rel="shortcut icon" href="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"ratears.gitee.io","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066cc","logo":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","favicon":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","avatar":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","font_size":"16px","font_family":null,"hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"/images/bg.jpg","description":"ç‹¬ç«‹å¤©åœ°é—´ï¼Œæ¸…é£æ´’å…°é›ª","font_color":null,"hitokoto":false},"scroll":{"progress_bar":true,"percent":true}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":false},"comment":{"enable":true,"use":"valine","valine":{"appid":"qabhDeoP5PwMdjG1eEotHlts-gzGzoHsz","appkey":"fVkafVmPzZAqx86MUOuPhmuE","placeholder":"ğŸ˜œ å°½æƒ…åæ§½å§~"},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.7"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Engineer"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"center","copyright_info":true},"version":"3.5.2"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"};
  </script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="atom.xml" title="ratears" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
                </a>
            
            <a class="logo-title" href="/">
               ratears&#39;s blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="../index.html"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../links"
                            >
                                LINKS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../index.html">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../links">LINKS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">ã€ŠNginxä½“ç³»åŒ–æ·±åº¦ç²¾è®²ã€‹study notes</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">ratears</span>
                            
                                <span class="author-label">Lv4</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2019-05-24 02:47:23</span>
        <span class="mobile">2019-05-24 02:47</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2022-05-24 02:47:23</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="../categories/Nginx/">Nginx</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="../tags/Nginx/">Nginx</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>4.9k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>24 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                <h1 id="Nginxåˆä½“éªŒ"><a href="#Nginxåˆä½“éªŒ" class="headerlink" title="Nginxåˆä½“éªŒ"></a>Nginxåˆä½“éªŒ</h1><h2 id="Nginxæ¦‚å¿µ"><a href="#Nginxæ¦‚å¿µ" class="headerlink" title="Nginxæ¦‚å¿µ"></a>Nginxæ¦‚å¿µ</h2><ul>
<li><p>Nginx (engine x) æ˜¯ä¸€ä¸ª<strong>é«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨</strong>ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†IMAP/POP3/SMTPæœåŠ¡ã€‚Nginxæ˜¯ç”±ä¼Šæˆˆå°”Â·èµ›ç´¢è€¶å¤«ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„Rambler.ruç«™ç‚¹ï¼ˆä¿„æ–‡ï¼šĞ Ğ°Ğ¼Ğ±Ğ»ĞµÑ€ï¼‰å¼€å‘çš„ï¼Œå…¬å¼€ç‰ˆæœ¬1.19.6å‘å¸ƒäº2020å¹´12æœˆ15æ—¥ã€‚</p>
</li>
<li><p>å…¶å°†æºä»£ç ä»¥ç±»BSDè®¸å¯è¯çš„å½¢å¼å‘å¸ƒï¼Œå› å®ƒçš„ç¨³å®šæ€§ã€ä¸°å¯Œçš„åŠŸèƒ½é›†ã€ç®€å•çš„é…ç½®æ–‡ä»¶å’Œä½ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—è€Œé—»åã€‚2022å¹´01æœˆ25æ—¥ï¼Œnginx 1.21.6å‘å¸ƒã€‚</p>
</li>
<li><p>Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ï¼Œåœ¨BSD-like åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ã€‚</p>
</li>
</ul>
<br>

<br>

<h2 id="Nginxç¼˜èµ·å†å²"><a href="#Nginxç¼˜èµ·å†å²" class="headerlink" title="Nginxç¼˜èµ·å†å²"></a>Nginxç¼˜èµ·å†å²</h2><ul>
<li>äº’è”ç½‘æ•°æ®çš„å¿«é€Ÿå¢é•¿</li>
<li>Apacheå¤„ç†è¯·æ±‚çš„ä½æ•ˆæ€§</li>
</ul>
<table>
<thead>
<tr>
<th align="center">Apache</th>
<th align="center">Nginx</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ä¸€ä¸ªè¿›ç¨‹å¤„ç†ä¸€ä¸ªè¯·æ±‚</td>
<td align="center">ä¸€ä¸ªè¿›ç¨‹å¤„ç†å¤šä¸ªè¯·æ±‚</td>
</tr>
<tr>
<td align="center">é˜»å¡å¼çš„</td>
<td align="center">éé˜»å¡å¼çš„</td>
</tr>
</tbody></table>
<br>

<br>

<h2 id="Nginxä¸‰ä¸ªä¸»è¦ä¼ä¸šåº”ç”¨åœºæ™¯"><a href="#Nginxä¸‰ä¸ªä¸»è¦ä¼ä¸šåº”ç”¨åœºæ™¯" class="headerlink" title="Nginxä¸‰ä¸ªä¸»è¦ä¼ä¸šåº”ç”¨åœºæ™¯"></a>Nginxä¸‰ä¸ªä¸»è¦ä¼ä¸šåº”ç”¨åœºæ™¯</h2><img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.4z8gliurmhc0.webp" width="90%" />

<br>

<br>

<h2 id="Nginxæ ¸å¿ƒä¼˜åŠ¿"><a href="#Nginxæ ¸å¿ƒä¼˜åŠ¿" class="headerlink" title="Nginxæ ¸å¿ƒä¼˜åŠ¿"></a>Nginxæ ¸å¿ƒä¼˜åŠ¿</h2><ul>
<li>é«˜å¹¶å‘ã€é«˜æ€§èƒ½</li>
<li>æ‰©å±•æ€§å¥½</li>
<li>å¼‚æ­¥éé˜»å¡çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹</li>
<li>é«˜å¯é æ€§</li>
<li>çƒ­éƒ¨ç½²</li>
</ul>
<br>

<br>

<h2 id="å®‰è£…rpmåŒ…Nginx"><a href="#å®‰è£…rpmåŒ…Nginx" class="headerlink" title="å®‰è£…rpmåŒ…Nginx"></a>å®‰è£…rpmåŒ…Nginx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ï¼ˆ1ï¼‰ä¸‹è½½epel yumæº</span></span><br><span class="line">yum install epel-release -y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ï¼ˆ2ï¼‰æŸ¥çœ‹yumæºé‡Œå¯å®‰è£…çš„nginx</span></span><br><span class="line">yum list all |grep nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ï¼ˆ3ï¼‰ä¸‹è½½nginx</span></span><br><span class="line">yum install nginx -y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ï¼ˆ4ï¼‰åˆ—å‡º nginx å®‰è£…çš„æ–‡ä»¶</span></span><br><span class="line">rpm -ql nginx</span><br><span class="line"><span class="meta prompt_">	</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ï¼ˆ5ï¼‰æŸ¥çœ‹nginxå¯åŠ¨æ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span><br><span class="line">rpm -ql nginx |grep bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Nginxçš„äºŒè¿›åˆ¶æ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span><br><span class="line">/usr/sbin/nginx</span><br></pre></td></tr></table></figure>

<br>

<br>

<br>

<h1 id="Nginxè¿›ç¨‹ç»“æ„ä¸çƒ­éƒ¨ç½²"><a href="#Nginxè¿›ç¨‹ç»“æ„ä¸çƒ­éƒ¨ç½²" class="headerlink" title="Nginxè¿›ç¨‹ç»“æ„ä¸çƒ­éƒ¨ç½²"></a>Nginxè¿›ç¨‹ç»“æ„ä¸çƒ­éƒ¨ç½²</h1><h2 id="å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹"><a href="#å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹" class="headerlink" title="å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹"></a>å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹</h2><h3 id="å¤šè¿›ç¨‹"><a href="#å¤šè¿›ç¨‹" class="headerlink" title="å¤šè¿›ç¨‹"></a>å¤šè¿›ç¨‹</h3><h2 id="Nginxçš„è¿›ç¨‹ç»“æ„"><a href="#Nginxçš„è¿›ç¨‹ç»“æ„" class="headerlink" title="Nginxçš„è¿›ç¨‹ç»“æ„"></a>Nginxçš„è¿›ç¨‹ç»“æ„</h2><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/56b03da1dfa88b5a292f320a90fbb9d.2bzqwmpmcuas.webp" width="70%"/>

<ul>
<li>çœŸæ­£å¤„ç†è¯·æ±‚çš„ä¸æ˜¯ master processï¼ŒäºŒæ˜¯ worker process</li>
</ul>
<br>

<br>

<h2 id="Linuxçš„ä¿¡å·é‡ç®¡ç†æœºåˆ¶"><a href="#Linuxçš„ä¿¡å·é‡ç®¡ç†æœºåˆ¶" class="headerlink" title="Linuxçš„ä¿¡å·é‡ç®¡ç†æœºåˆ¶"></a>Linuxçš„ä¿¡å·é‡ç®¡ç†æœºåˆ¶</h2><ul>
<li>linuxä¸­çš„æ‰€æœ‰ä¿¡å·é‡</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost nginx]<span class="comment"># kill -l</span></span><br><span class="line"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP</span><br><span class="line"> 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1</span><br><span class="line">11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM</span><br><span class="line">16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP</span><br><span class="line">21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ</span><br><span class="line">26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR</span><br><span class="line">31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3</span><br><span class="line">38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8</span><br><span class="line">43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span><br><span class="line">48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span><br><span class="line">53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7</span><br><span class="line">58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2</span><br><span class="line">63) SIGRTMAX-1  64) SIGRTMAX</span><br></pre></td></tr></table></figure>

<ul>
<li>å¸¸ç”¨ä¿¡å·é‡</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.2l38lbs30tc0.webp" width="50%"/>

<br>

<br>

<h2 id="åˆ©ç”¨ä¿¡å·é‡ç®¡ç†Nginx"><a href="#åˆ©ç”¨ä¿¡å·é‡ç®¡ç†Nginx" class="headerlink" title="åˆ©ç”¨ä¿¡å·é‡ç®¡ç†Nginx"></a>åˆ©ç”¨ä¿¡å·é‡ç®¡ç†Nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­nginx</span></span><br><span class="line"><span class="built_in">kill</span> -s SIGTERM [nginx masterè¿›ç¨‹pid]</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è¯»å–é…ç½®æ–‡ä»¶ï¼Œä¼šå…³é—­ä¹‹å‰çš„workå­è¿›ç¨‹ï¼Œç”Ÿæˆæ–°çš„workå­è¿›ç¨‹ </span></span><br><span class="line"><span class="built_in">kill</span> -s SIGHUP [nginx masterè¿›ç¨‹pid]</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.682s0oj5i400.webp" width="50%"/>

<br>

<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.4ouapvas0x40.webp" width="50%"/>

<br/>

<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.zftbgjpnhzk.webp" width="50%"/>

<br>

<br>

<h2 id="é…ç½®æ–‡ä»¶é‡è½½çš„åŸç†çœŸç›¸"><a href="#é…ç½®æ–‡ä»¶é‡è½½çš„åŸç†çœŸç›¸" class="headerlink" title="é…ç½®æ–‡ä»¶é‡è½½çš„åŸç†çœŸç›¸"></a>é…ç½®æ–‡ä»¶é‡è½½çš„åŸç†çœŸç›¸</h2><h3 id="reload-é‡è½½é…ç½®æ–‡ä»¶çš„æµç¨‹"><a href="#reload-é‡è½½é…ç½®æ–‡ä»¶çš„æµç¨‹" class="headerlink" title="reload é‡è½½é…ç½®æ–‡ä»¶çš„æµç¨‹"></a><code>reload</code> é‡è½½é…ç½®æ–‡ä»¶çš„æµç¨‹</h3><ol>
<li>å‘masterè¿›ç¨‹å‘é€HUPä¿¡å·ï¼ˆreloadå‘½ä»¤ï¼‰</li>
<li>masterè¿›ç¨‹æ£€æŸ¥é…ç½®è¯­æ³•æ˜¯å¦æ­£ç¡®</li>
<li>masterè¿›ç¨‹æ‰“å¼€ç›‘å¬ç«¯å£</li>
<li>masterè¿›ç¨‹ä½¿ç”¨æ–°çš„é…ç½®æ–‡ä»¶å¯åŠ¨æ–°çš„workerå­è¿›ç¨‹</li>
<li>masterè¿›ç¨‹å‘è€çš„workerå­è¿›ç¨‹å‘é€QUITä¿¡å·</li>
<li>æ—§çš„workerè¿›ç¨‹å…³é—­ç›‘å¬å¥æŸ„ï¼Œå¤„ç†å®Œå½“å‰è¿æ¥åå…³é—­è¿›ç¨‹</li>
</ol>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.7cv9qios6300.webp" width="65%" />

<br>

<br>

<h2 id="Nginxçš„çƒ­éƒ¨ç½²"><a href="#Nginxçš„çƒ­éƒ¨ç½²" class="headerlink" title="Nginxçš„çƒ­éƒ¨ç½²"></a>Nginxçš„çƒ­éƒ¨ç½²</h2><h3 id="çƒ­å‡çº§çš„æµç¨‹ï¼ˆå‰æï¼šæ–°æ—§Nginxçš„ç¼–è¯‘ç›®å½•ä¸€è‡´ï¼‰"><a href="#çƒ­å‡çº§çš„æµç¨‹ï¼ˆå‰æï¼šæ–°æ—§Nginxçš„ç¼–è¯‘ç›®å½•ä¸€è‡´ï¼‰" class="headerlink" title="çƒ­å‡çº§çš„æµç¨‹ï¼ˆå‰æï¼šæ–°æ—§Nginxçš„ç¼–è¯‘ç›®å½•ä¸€è‡´ï¼‰"></a>çƒ­å‡çº§çš„æµç¨‹ï¼ˆå‰æï¼šæ–°æ—§Nginxçš„ç¼–è¯‘ç›®å½•ä¸€è‡´ï¼‰</h3><ol>
<li>å°†æ—§çš„nginxæ–‡ä»¶æ›¿æ¢æˆæ–°çš„nginxæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶ä¸»ç¨‹åºæ–‡ä»¶ï¼‰</li>
<li>å‘masterè¿›ç¨‹å‘é€USR2ä¿¡å·</li>
<li>masterè¿›ç¨‹ä¿®æ”¹pidæ–‡ä»¶ï¼ŒåŠ åç¼€.oldbin</li>
<li>masterè¿›ç¨‹ç”¨æ–°nginxæ–‡ä»¶å¯åŠ¨æ–°masterè¿›ç¨‹</li>
<li>å‘æ—§çš„masterè¿›ç¨‹å‘é€WINCHä¿¡å·ï¼Œæ—§çš„workerå­è¿›ç¨‹é€€å‡º</li>
<li>å›æ»šæ§½å½¢ï¼šå‘æ—§masterå‘é€HUP ,å‘æ–°çš„masterå‘é€QUIT</li>
</ol>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.3s80krndr7m0.webp" width="75%" />

<br>

<h3 id="Nginxçƒ­éƒ¨ç½²å®Œæ•´æ­¥éª¤æ¼”ç¤º"><a href="#Nginxçƒ­éƒ¨ç½²å®Œæ•´æ­¥éª¤æ¼”ç¤º" class="headerlink" title="Nginxçƒ­éƒ¨ç½²å®Œæ•´æ­¥éª¤æ¼”ç¤º"></a>Nginxçƒ­éƒ¨ç½²å®Œæ•´æ­¥éª¤æ¼”ç¤º</h3><h4 id="Nginxçƒ­å‡çº§æ ¸å¿ƒå‘½ä»¤è§£é‡Š"><a href="#Nginxçƒ­å‡çº§æ ¸å¿ƒå‘½ä»¤è§£é‡Š" class="headerlink" title="Nginxçƒ­å‡çº§æ ¸å¿ƒå‘½ä»¤è§£é‡Š"></a>Nginxçƒ­å‡çº§æ ¸å¿ƒå‘½ä»¤è§£é‡Š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤‡ä»½nginxäºŒè¿›åˆ¶æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cp</span> nginx nginx.bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ–°çš„nginx ä¸»è¿›ç¨‹ å’Œå­è¿›ç¨‹ï¼ˆæ–°è€masterã€workerè¿›ç¨‹å…±å­˜ï¼‰</span></span><br><span class="line"><span class="built_in">kill</span> -s SIGUSR2 [pid]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­nginx masterè¿›ç¨‹ä¸‹çš„workerå­è¿›ç¨‹</span></span><br><span class="line"><span class="built_in">kill</span> -s SIGWINCH [pid]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­è¿›ç¨‹</span></span><br><span class="line"><span class="built_in">kill</span> -s SIGQUIT [pid]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®©æ—§masterè¿›ç¨‹ å¯åŠ¨workå­è¿›ç¨‹ï¼ˆä½¿ç”¨çš„è¿˜æ˜¯æ—§çš„nginxäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="built_in">kill</span> -s SIGHUP [pid]</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„äº‹é¡¹</li>
</ul>
<blockquote>
<p>ä¸èƒ½ä½¿ç”¨ <code>kill -s SIGHU []</code> é€€å‡ºæ—§çš„masterè¿›ç¨‹ï¼Œå¦‚æœè¿™æ ·åšçš„è¯ï¼Œæ—§çš„ masterä¸»è¿›ç¨‹å’Œå…¶å­è¿›ç¨‹ä¼šç›´æ¥é€€å‡ºï¼ˆè¢«killæ‰ï¼‰ï¼Œè¿™æ ·ï¼ˆå½“æ–°å¯çš„nginxè¿›ç¨‹æœ‰é—®é¢˜æ—¶ï¼‰å°±æ— æ³•å›æ»šã€‚</p>
<p>æ‰€ä»¥åº”è¯¥ä½¿ç”¨ <code>kill -s SIGWINCH []</code>ï¼Œå…ˆå°†æ—§çš„masterä¸»è¿›ç¨‹ä¸‹çš„workå­è¿›ç¨‹å…¨éƒ¨killæ‰ï¼ŒéªŒè¯æ–°å¯çš„nginxè¿›ç¨‹æ²¡æœ‰é—®é¢˜åï¼Œå†ä½¿ç”¨ <code>kill -s SIGHU []</code>    killæ‰æ—§çš„masterè¿›ç¨‹ã€‚å¦‚æœéªŒè¯æ–°å¯çš„nginxè¿›ç¨‹æœ‰é—®é¢˜ï¼Œè¿™æ—¶ä½¿ç”¨ <code>kill -s SIGHUP []</code> å°±å¯ä»¥è®©æ—§masterè¿›ç¨‹é‡æ–°å¯åŠ¨workå­è¿›ç¨‹ã€‚ï¼ˆè¾¾åˆ°å›æ»šçš„æ•ˆæœï¼‰</p>
</blockquote>
<br/>

<h4 id="Nginxæ­£å¸¸çƒ­å‡çº§è¯¦ç»†æ­¥éª¤æ¼”ç¤º"><a href="#Nginxæ­£å¸¸çƒ­å‡çº§è¯¦ç»†æ­¥éª¤æ¼”ç¤º" class="headerlink" title="Nginxæ­£å¸¸çƒ­å‡çº§è¯¦ç»†æ­¥éª¤æ¼”ç¤º"></a>Nginxæ­£å¸¸çƒ­å‡çº§è¯¦ç»†æ­¥éª¤æ¼”ç¤º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ï¼ˆ1ï¼‰æŸ¥çœ‹nginxå¤„äºæ­£å¸¸è¿è¡ŒçŠ¶æ€</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     105723   1480  0 16:35 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line">[root@bogon nginx]<span class="comment"># /usr/local/nginx/sbin/nginx</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     105739      1  0 16:35 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    105740 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105741 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105742 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105743 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     105747   1480  0 16:35 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ2ï¼‰å¤‡ä»½nginxçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†æ–°çš„nginxæ›¿æ¢æˆæ—§çš„nginx</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># cd /usr/local/nginx/sbin/</span></span><br><span class="line">[root@bogon sbin]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 6128</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:16 nginx</span><br><span class="line">[root@bogon sbin]<span class="comment"># cp nginx nginx.old</span></span><br><span class="line">[root@bogon sbin]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 12256</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:16 nginx</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:36 nginx.old</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ3ï¼‰ç»™æ—§çš„nginx master è¿›ç¨‹å‘é€ SIGUSR2ä¿¡å·åã€‚nginx æ–°æ—§masterè¿›ç¨‹ã€workerå­è¿›ç¨‹å…±å­˜ã€‚</span></span><br><span class="line">[root@bogon sbin]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     105739      1  0 16:35 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    105740 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105741 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105742 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105743 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     106243   1480  0 16:45 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line">[root@bogon sbin]<span class="comment"># kill -s SIGUSR2 105739</span></span><br><span class="line">[root@bogon sbin]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     105739      1  0 16:35 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    105740 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105741 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105742 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    105743 105739  0 16:35 ?        00:00:00 nginx: worker process</span><br><span class="line">root     106255 105739  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    106256 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106257 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106258 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106259 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">root     106268   1480  0 16:45 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll pid/</span></span><br><span class="line">æ€»ç”¨é‡ 8</span><br><span class="line">-rw-r--r--. 1 root root 7 10æœˆ  6 16:45 nginx.pid</span><br><span class="line">-rw-r--r--. 1 root root 7 10æœˆ  6 16:35 nginx.pid.oldbin</span><br><span class="line">[root@bogon nginx]<span class="comment"># cat pid/nginx.pid</span></span><br><span class="line">106255</span><br><span class="line">[root@bogon nginx]<span class="comment"># cat pid/nginx.pid.oldbin</span></span><br><span class="line">105739</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ4ï¼‰å‘æ—§çš„masterè¿›ç¨‹å‘é€ SIGWINCH ä¿¡å·ï¼Œæ—§çš„ workerå­è¿›ç¨‹é€€å‡ºã€‚æ­¤æ—¶ï¼Œæ‰€æœ‰è¯·æ±‚ä¼šè¢«æ–°çš„workerè¿›ç¨‹å¤„ç†</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGWINCH 105739</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     105739      1  0 16:35 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">root     106255 105739  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    106256 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106257 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106258 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106259 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">root     106643   1480  0 16:52 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ5ï¼‰éªŒè¯æ–°çš„ngixn çš„ workerå­è¿›ç¨‹æ²¡æœ‰é”™è¯¯åï¼Œå‘æ—§çš„masterè¿›ç¨‹å‘é€ SIGQUIT ä¿¡å·ã€‚æ­¤æ—¶ æ—§çš„masterè¿›ç¨‹é€€å‡ºã€‚</span></span><br><span class="line"><span class="comment"># è‡³æ­¤ï¼Œnginxçƒ­å‡çº§æˆåŠŸ</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGQUIT 105739</span></span><br><span class="line">[root@bogon nginx]<span class="comment">#</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    106256 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106257 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106258 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106259 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">root     106814   1480  0 16:56 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll pid/</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">-rw-r--r--. 1 root root 7 10æœˆ  6 16:45 nginx.pid</span><br><span class="line">[root@bogon nginx]<span class="comment"># cat pid/nginx.pid</span></span><br><span class="line">106255</span><br><span class="line"></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll sbin/</span></span><br><span class="line">æ€»ç”¨é‡ 12256</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:16 nginx</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:36 nginx.old</span><br><span class="line">[root@bogon nginx]<span class="comment"># rm -rf sbin/nginx.old</span></span><br></pre></td></tr></table></figure>

<br/>

<h4 id="Nginxçƒ­å‡çº§â€”â€”å›æ»šæƒ…å½¢æ¼”ç¤º"><a href="#Nginxçƒ­å‡çº§â€”â€”å›æ»šæƒ…å½¢æ¼”ç¤º" class="headerlink" title="Nginxçƒ­å‡çº§â€”â€”å›æ»šæƒ…å½¢æ¼”ç¤º"></a>Nginxçƒ­å‡çº§â€”â€”å›æ»šæƒ…å½¢æ¼”ç¤º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ï¼ˆ1ï¼‰~ï¼ˆ2ï¼‰æŸ¥çœ‹nginxå¤„äºæ­£å¸¸è¿è¡ŒçŠ¶æ€ï¼›å¤‡ä»½nginxçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†æ–°çš„nginxæ›¿æ¢æˆæ—§çš„nginx</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll sbin/</span></span><br><span class="line">æ€»ç”¨é‡ 6128</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:16 nginx</span><br><span class="line">[root@bogon nginx]<span class="comment"># cp sbin/nginx sbin/nginx.bak</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll sbin/</span></span><br><span class="line">æ€»ç”¨é‡ 12256</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 16:16 nginx</span><br><span class="line">-rwxr-xr-x. 1 root root 6272440 10æœˆ  6 17:01 nginx.bak</span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    106256 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106257 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106258 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106259 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107093   1480  0 17:01 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ3ï¼‰ç»™æ—§çš„nginx master è¿›ç¨‹å‘é€ SIGUSR2ä¿¡å·åã€‚nginx æ–°æ—§masterè¿›ç¨‹ã€workerå­è¿›ç¨‹å…±å­˜ã€‚</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGUSR2 106255</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    106256 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106257 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106258 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    106259 106255  0 16:45 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107206 106255  0 17:03 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    107207 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107208 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107209 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107210 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107217   1480  0 17:04 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ4ï¼‰å‘æ—§çš„masterè¿›ç¨‹å‘é€ SIGWINCH ä¿¡å·ï¼Œæ—§çš„ workerå­è¿›ç¨‹é€€å‡ºã€‚æ­¤æ—¶ï¼Œæ‰€æœ‰è¯·æ±‚ä¼šè¢«æ–°çš„workerè¿›ç¨‹å¤„ç†</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGWINCH 106255</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">root     107206 106255  0 17:03 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    107207 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107208 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107209 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107210 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107264   1480  0 17:04 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ5ï¼‰éªŒè¯æ–°çš„ngixn çš„ workerå­è¿›ç¨‹ å‘ç°æœ‰é”™è¯¯ï¼Œå¼€å¯å›æ»šï¼š</span></span><br><span class="line"><span class="comment"># å‘æ—§çš„master å‘é€ SIGHUP ä¿¡å·ï¼›å‘ æ–°çš„masterè¿›ç¨‹å‘é€ SIGQUIT ä¿¡å·</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGWINCH 106255</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">root     107206 106255  0 17:03 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    107207 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107208 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107209 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107210 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107264   1480  0 17:04 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGHUP 106255</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">root     107206 106255  0 17:03 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    107207 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107208 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107209 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107210 107206  0 17:03 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107401 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107402 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107403 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107404 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107412   1480  0 17:07 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line">[root@bogon nginx]<span class="comment"># kill -s SIGQUIT 107206</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef |grep nginx</span></span><br><span class="line">root     106255      1  0 16:45 ?        00:00:00 nginx: master process /usr/local/nginx/sbin/nginx</span><br><span class="line">nginx    107401 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107402 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107403 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">nginx    107404 106255  0 17:07 ?        00:00:00 nginx: worker process</span><br><span class="line">root     107440   1480  0 17:08 pts/0    00:00:00 grep --color=auto nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡³æ­¤ï¼Œnginxçƒ­å‡çº§å›æ»šæˆåŠŸ</span></span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="Nginxæ¨¡å—åŒ–è®¾è®¡æœºåˆ¶"><a href="#Nginxæ¨¡å—åŒ–è®¾è®¡æœºåˆ¶" class="headerlink" title="Nginxæ¨¡å—åŒ–è®¾è®¡æœºåˆ¶"></a>Nginxæ¨¡å—åŒ–è®¾è®¡æœºåˆ¶</h2><h3 id="æ¨¡å—ç»“æ„å›¾"><a href="#æ¨¡å—ç»“æ„å›¾" class="headerlink" title="æ¨¡å—ç»“æ„å›¾"></a>æ¨¡å—ç»“æ„å›¾</h3><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.5piekf14yes0.webp" width="60%" />

<br/>

<br>

<h3 id="æ¨¡å—ä½“ç³»ç»“æ„"><a href="#æ¨¡å—ä½“ç³»ç»“æ„" class="headerlink" title="æ¨¡å—ä½“ç³»ç»“æ„"></a>æ¨¡å—ä½“ç³»ç»“æ„</h3><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.2miqh0m6jdo0.webp" width="40%" />

<br/>

<br>

<h2 id="Nginxç¼–è¯‘å®‰è£…çš„é…ç½®å‚æ•°"><a href="#Nginxç¼–è¯‘å®‰è£…çš„é…ç½®å‚æ•°" class="headerlink" title="Nginxç¼–è¯‘å®‰è£…çš„é…ç½®å‚æ•°"></a>Nginxç¼–è¯‘å®‰è£…çš„é…ç½®å‚æ•°</h2><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.7jfdxqlxm340.webp" width="60%"/>

<br>

<br>

<h2 id="å®šåˆ¶ç¼–è¯‘å®‰è£…Nginx"><a href="#å®šåˆ¶ç¼–è¯‘å®‰è£…Nginx" class="headerlink" title="å®šåˆ¶ç¼–è¯‘å®‰è£…Nginx"></a>å®šåˆ¶ç¼–è¯‘å®‰è£…Nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ï¼ˆ0ï¼‰å‡†å¤‡nginxçš„ç®¡ç†ç”¨æˆ·</span></span><br><span class="line">[root@bogon install]<span class="comment"># useradd nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ1ï¼‰å‡†å¤‡å®‰è£…æ–‡ä»¶</span></span><br><span class="line">[root@localhost install]<span class="comment"># wget https://nginx.org/download/nginx-1.22.1.tar.gz</span></span><br><span class="line"></span><br><span class="line">[root@bogon install]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 3688</span><br><span class="line">-rw-r--r--. 1 root root 1073322 5æœˆ  24 22:29 nginx-1.22.0.tar.gz</span><br><span class="line">-rw-r--r--. 1 root root 2085854 10æœˆ  6 16:08 pcre-8.43.tar.gz</span><br><span class="line">-rw-r--r--. 1 root root  607698 1æœˆ  16 2017 zlib-1.2.11.tar.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ2ï¼‰è§£å‹å®‰è£…æ–‡ä»¶</span></span><br><span class="line">[root@bogon install]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 16</span><br><span class="line">drwxr-xr-x.  8 1001  1001  158 5æœˆ  24 07:59 nginx-1.22.0</span><br><span class="line">drwxr-xr-x.  7 1169  1169 8192 2æœˆ  24 2019 pcre-8.43</span><br><span class="line">drwxr-xr-x. 14  501 games 4096 1æœˆ  16 2017 zlib-1.2.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ3ï¼‰è§£å‹åè¿›å…¥ nginxæºç ç›®å½•ï¼ŒæŸ¥çœ‹ç›¸å…³ç¼–è¯‘å‚æ•°</span></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># ./configure --help</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ4ï¼‰ç¼–è¯‘å®‰è£…å‰ä¸‹è½½ç›¸å…³ä¾èµ–</span></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># yum install -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel gd gd-devel</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆ5ï¼‰ç¼–è¯‘å®‰è£…</span></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># ./configure --prefix=/usr/local/nginx --conf-path=/usr/local/nginx/conf/nginx.conf --user=nginx --group=nginx --pid-path=/usr/local/nginx/pid/nginx.pid --error-log-path=/usr/local/nginx/logs/error.log --with-pcre=/install/pcre-8.43 --with-zlib=/install/zlib-1.2.11 --with-http_ssl_module --with-http_image_filter_module --with-http_stub_status_module --http-log-path=/usr/local/nginx/logs/access.log</span></span><br><span class="line"></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># make</span></span><br><span class="line"></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># make install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡³æ¬¡ï¼Œnginxç¼–è¯‘å®‰è£…å®Œæˆ</span></span><br><span class="line"></span><br><span class="line">[root@bogon nginx-1.22.0]<span class="comment"># cd /usr/local/nginx/</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">drwxr-xr-x. 2 root root 4096 10æœˆ  6 16:16 conf</span><br><span class="line">drwxr-xr-x. 2 root root   40 10æœˆ  6 16:16 html</span><br><span class="line">drwxr-xr-x. 2 root root    6 10æœˆ  6 16:16 logs</span><br><span class="line">drwxr-xr-x. 2 root root    6 10æœˆ  6 16:16 pid</span><br><span class="line">drwxr-xr-x. 2 root root   19 10æœˆ  6 16:16 sbin</span><br><span class="line"></span><br><span class="line">[root@bogon nginx]<span class="comment"># sbin/nginx</span></span><br><span class="line">[root@bogon nginx]<span class="comment"># ps -ef | grep nginx</span></span><br><span class="line">root     104771      1  0 16:18 ?        00:00:00 nginx: master process sbin/nginx</span><br><span class="line">nginx    104772 104771  0 16:18 ?        00:00:00 nginx: worker process</span><br><span class="line">root     104780   1480  0 16:18 pts/0    00:00:00 grep --color=auto nginx</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="Nginxé…ç½®æ–‡ä»¶ç»“æ„"><a href="#Nginxé…ç½®æ–‡ä»¶ç»“æ„" class="headerlink" title="Nginxé…ç½®æ–‡ä»¶ç»“æ„"></a>Nginxé…ç½®æ–‡ä»¶ç»“æ„</h2><img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/image.69cd7t6e47k0.webp" width="65%"/>

<br>

<br>

<h2 id="è™šæ‹Ÿä¸»æœºçš„åˆ†ç±»ï¼ˆä¸‰ç§ï¼‰"><a href="#è™šæ‹Ÿä¸»æœºçš„åˆ†ç±»ï¼ˆä¸‰ç§ï¼‰" class="headerlink" title="è™šæ‹Ÿä¸»æœºçš„åˆ†ç±»ï¼ˆä¸‰ç§ï¼‰"></a>è™šæ‹Ÿä¸»æœºçš„åˆ†ç±»ï¼ˆä¸‰ç§ï¼‰</h2><ul>
<li>åŸºäºå¤šIPçš„è™šæ‹Ÿä¸»æœº<ul>
<li>å¤šç½‘å¡å¤šIP</li>
<li>å•ç½‘å¡å¤šIP</li>
</ul>
</li>
<li>åŸºäºå¤šç«¯å£çš„è™šæ‹Ÿä¸»æœº</li>
<li>åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœº</li>
</ul>
<br>

<h3 id="åŸºäºå¤šç½‘å¡çš„è™šæ‹Ÿä¸»æœºå®ç°"><a href="#åŸºäºå¤šç½‘å¡çš„è™šæ‹Ÿä¸»æœºå®ç°" class="headerlink" title="åŸºäºå¤šç½‘å¡çš„è™šæ‹Ÿä¸»æœºå®ç°"></a>åŸºäºå¤šç½‘å¡çš„è™šæ‹Ÿä¸»æœºå®ç°</h3><ul>
<li>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å¤šç½‘å¡å¤šIPçš„æ–¹å¼</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">192.168.146.132:8080</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_ip/<span class="number">132</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">192.168.146.133:8080</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_ip/<span class="number">133</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">192.168.146.134:8080</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_ip/<span class="number">134</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<br>

<h3 id="åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºå®ç°"><a href="#åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºå®ç°" class="headerlink" title="åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºå®ç°"></a>åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºå®ç°</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">90</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_port/<span class="number">90</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">91</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_port/<span class="number">91</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">92</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	localhost;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_port/<span class="number">92</span>;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºå®ç°"><a href="#åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºå®ç°" class="headerlink" title="åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºå®ç°"></a>åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºå®ç°</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">9090</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	test1.nginx.com;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_domain/test1;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">9090</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	test2.nginx.com;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_domain/test2;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">	<span class="attribute">listen</span>	<span class="number">9090</span>;</span><br><span class="line">	<span class="attribute">server_name</span>	test3.nginx.com;</span><br><span class="line">	<span class="section">location</span> / &#123;</span><br><span class="line">		<span class="attribute">root</span>	/usr/local/nginx/html/virtual_host_by_domain/test3;</span><br><span class="line">		<span class="attribute">index</span>	index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<br>

<h1 id="æ ¸å¿ƒæŒ‡ä»¤-NginxåŸºç¡€åº”ç”¨"><a href="#æ ¸å¿ƒæŒ‡ä»¤-NginxåŸºç¡€åº”ç”¨" class="headerlink" title="æ ¸å¿ƒæŒ‡ä»¤-NginxåŸºç¡€åº”ç”¨"></a>æ ¸å¿ƒæŒ‡ä»¤-NginxåŸºç¡€åº”ç”¨</h1><h2 id="é…ç½®æ–‡ä»¶mainæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"><a href="#é…ç½®æ–‡ä»¶mainæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•" class="headerlink" title="é…ç½®æ–‡ä»¶mainæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"></a>é…ç½®æ–‡ä»¶mainæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mainæ®µæ ¸å¿ƒå‚æ•°:</span></span><br><span class="line"><span class="attribute">user</span> USERNAME [GROUP]</span><br><span class="line">    è§£é‡Šï¼šæŒ‡å®šè¿è¡Œnginxçš„workerå­è¿›ç¨‹çš„å±ä¸»å’Œå±ç»„ï¼Œå…¶ä¸­å±ç»„å¯ä»¥ä¸æŒ‡å®š </span><br><span class="line">	ç¤ºä¾‹ï¼š</span><br><span class="line">		user nginx nginx;</span><br><span class="line"></span><br><span class="line"><span class="attribute">pid</span> DIR</span><br><span class="line">    è§£é‡Šï¼šæŒ‡å®šè¿è¡Œnginxçš„masterä¸»è¿›ç¨‹çš„pidæ–‡ä»¶å­˜æ”¾è·¯å¾„ </span><br><span class="line">	ç¤ºä¾‹ï¼š</span><br><span class="line">		pid /ropt/nginx/logs/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> number</span><br><span class="line">   	è§£æ˜¥ï¼šæŒ‡å®šworkerå­è¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•° </span><br><span class="line">	ç¤ºä¾‹ï¼š</span><br><span class="line">         worker_rlimit_nofile <span class="number">20480</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_rlimit_core</span> size</span><br><span class="line"> 	ä¸€ è§£é‡Šï¼šæŒ‡å®šworkerå­è¿›ç¨‹å¼‚å¸¸ç»ˆæ­¢åçš„coreæ–‡ä»¶ï¼Œç”¨äºè®°å½•åˆ†æé—®é¢˜ </span><br><span class="line">	ç¤ºä¾‹ï¼š</span><br><span class="line">         worker_rlimit_core <span class="number">50M</span>;</span><br><span class="line">         <span class="attribute">working_directory</span> /opt/nginx/tmp;</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_processes</span> number | auto</span><br><span class="line">   è§£é‡Šï¼šæŒ‡å®šnginxå¯åŠ¨çš„workerå­è¿›ç¨‹æ•°é‡</span><br><span class="line">   ç¤ºä¾‹ï¼š</span><br><span class="line">         worker_processes <span class="number">4</span>;</span><br><span class="line">         <span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_cpu_affinity</span> cpumaskl cpumask2...</span><br><span class="line">   è§£éœ¹ï¼šå°†æ¯ä¸ªworkerå­è¿›ç¨‹ä¸æˆ‘ä»¬çš„CPUç‰©ç†æ ¸å¿ƒç»‘å®šã€‚</span><br><span class="line">   ç¤ºä¾‹ï¼š</span><br><span class="line">         worker_cpu_affinity <span class="number">0001</span> <span class="number">0010</span> <span class="number">0100</span> <span class="number">1000</span>ï¼› <span class="comment">#</span></span><br><span class="line">         <span class="number">4</span>ä¸ªç‰©ç†æ ¸å¿ƒï¼Œ<span class="number">4</span>ä¸ªworkerå­è¿›ç¨‹</span><br><span class="line">         worker_cpu_affinity <span class="number">00000001</span> <span class="number">00000010</span> <span class="number">00000100</span> <span class="number">00001000</span> <span class="number">00010000</span></span><br><span class="line">         <span class="number">00100060</span> <span class="number">01000000</span> <span class="number">10000000</span>; <span class="comment"># 8ç‰©ç†æ ¸å¿ƒï¼Œ8ä¸ªworkerå­è¿›ç¨‹</span></span><br><span class="line">         <span class="attribute">worker_cpu_affinity</span> <span class="number">01</span> <span class="number">10</span> <span class="number">01</span> <span class="number">10</span>;         <span class="comment"># 2ä¸ªç‰©ç†æ ¸å¿ƒï¼Œ4ä¸ªå­è¿›ç¨‹</span></span><br><span class="line">  å¤‡æ³¨ï¼šå°†æ¯ä¸ªworkerå­è¿›ç¨‹ä¸ç‰¹å®šCPUç‰©ç†æ ¸å¿ƒç»‘å®šï¼Œä¼˜åŠ¿åœ¨äºï¼šé¿å…åŒä¸ªworkerå­è¿›ç¨‹</span><br><span class="line">  åœ¨ä¸åŒçš„CPUæ ¸å¿ƒä¸Šåˆ‡æ¢ï¼Œç¼“å­˜å¤±æ•ˆï¼Œé™ä½æ€§èƒ½ï¼›å…¶å¹¶ä¸èƒ½çœŸæ­£çš„é¿å…è¿›ç¨‹åˆ‡æ¢</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_priority</span> number</span><br><span class="line">   è§£é‡Šï¼šæŒ‡å®šworkerå­è¿›ç¨‹çš„niceå€¼ï¼Œä»¥è°ƒæ•´è¿è¡Œnginxçš„ä¼˜å…ˆçº§ï¼Œé€šå¸¸è®¾å®šä¸ºè´Ÿå€¼ï¼Œä»¥ä¼˜å…ˆ è°ƒç”¨nginx</span><br><span class="line">   ç¤ºä¾‹ï¼š</span><br><span class="line">        worker_priority -<span class="number">10</span>;</span><br><span class="line">   å¤‡æ³¨ï¼šLinuxé»˜è®¤è¿›ç¨‹çš„ä¼˜å…ˆçº§å€¼æ˜¯120,å€¼è¶Šå°è¶Šä¼˜å…ˆï¼›niceè®¾å®šèŒƒå›´ä¸º-20åˆ°+19</span><br><span class="line"></span><br><span class="line"><span class="attribute">worker_shutdown_timeout</span> time</span><br><span class="line">   è§£æ˜¥ï¼šæŒ‡å®šè¯WOrkerå­è¿›ç¨‹ä¼˜é›…é€€å‡ºæ—¶çš„è¶…æ—¶æ—¶é—´</span><br><span class="line">   ç¤ºä¾‹ï¼š</span><br><span class="line">        worker_shutdown_timeout <span class="number">5s</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">timer_resolution</span> time</span><br><span class="line">   è§£é‡Šï¼šworkerå­è¿›ç¨‹å†…éƒ¨ä½¿ç”¨çš„è®¡æ—¶å™¨ç²¾åº¦ï¼Œè°ƒæ•´æ—¶é—´é—´éš”è¶Šå¤§ï¼Œç³»ç»Ÿè°ƒç”¨è¶Šå°‘ï¼Œæœ‰åˆ©äºæ€§ èƒ½æå‡ï¼›åä¹‹ï¼Œç³»ç»Ÿè°ƒç”¨è¶Šå¤šï¼Œæ€§èƒ½ä¸‹é™</span><br><span class="line">   ç¤ºä¾‹ï¼š</span><br><span class="line">        worker_resolution 100ms;</span><br><span class="line"></span><br><span class="line"><span class="attribute">daemon</span> <span class="literal">on</span>|<span class="literal">off</span></span><br><span class="line">  è§£é‡Šï¼šè®¾å®šnginxçš„è¿è¡Œæ–¹å¼ï¼Œå‰å°è¿˜æ˜¯åå°ï¼Œå‰å°ç”¨æˆ·è°ƒè¯•ï¼Œåå°ç”¨äºç”Ÿäº§ ç¤ºä¾‹ï¼š</span><br><span class="line">       daemon <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">lock_file</span> DIR</span><br><span class="line">  è§£é‡Šï¼šè´Ÿè½½å‡è¡¡äº’æ–¥é”æ–‡ä»¶å­˜æ”¾è·¯å¾„</span><br><span class="line">       lock_file logs/nginx.lock</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<br>

<h2 id="é…ç½®æ–‡ä»¶eventsæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"><a href="#é…ç½®æ–‡ä»¶eventsæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•" class="headerlink" title="é…ç½®æ–‡ä»¶eventsæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"></a>é…ç½®æ–‡ä»¶eventsæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</h2><table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">use</td>
<td align="center">nginxä½¿ç”¨ä½•ç§äº‹ä»¶é©±åŠ¨æ¨¡å‹</td>
</tr>
<tr>
<td align="center">worker_connections</td>
<td align="center">workerå­è¿›ç¨‹èƒ½å¤Ÿå¤„ç†çš„æœ€å¤§å¹¶å‘è¿æ¥æ•°</td>
</tr>
<tr>
<td align="center">accept_mutex</td>
<td align="center">æ˜¯å¦æ‰“å¼€è´Ÿè½½å‡è¡¡äº’æ–¥é”</td>
</tr>
<tr>
<td align="center">accept_mutex_delay</td>
<td align="center">æ–°è¿æ¥åˆ†é…ç»™workerå­è¿›ç¨‹çš„è¶…æ—¶æ—¶é—´</td>
</tr>
<tr>
<td align="center">muti_accept</td>
<td align="center">workerå­è¿›ç¨‹å¯ä»¥æ¥æ”¶çš„æ–°è¿æ¥ä¸ªæ•°</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th align="center">è¯­æ³•</th>
<th align="center">å¯é€‰å€¼</th>
<th align="center">é»˜è®¤é…ç½®</th>
<th align="center">æ¨èé…ç½®</th>
</tr>
</thead>
<tbody><tr>
<td align="center">use</td>
<td align="center">use method</td>
<td align="center">selectã€pollã€kqueueã€epollã€/dev/pollã€eventport</td>
<td align="center">æ— </td>
<td align="center">ä¸æŒ‡å®šï¼Œè®©nginxè‡ªå·±é€‰æ‹©</td>
</tr>
<tr>
<td align="center">worker_connections</td>
<td align="center">worker_connections number</td>
<td align="center"></td>
<td align="center">worker_connections 1024</td>
<td align="center">worker_connections 65535/worker_processes|65535</td>
</tr>
<tr>
<td align="center">accept_mutex</td>
<td align="center">accept_mutex on|off</td>
<td align="center">onã€off</td>
<td align="center">accept_mutex off</td>
<td align="center">accept_mutex on</td>
</tr>
<tr>
<td align="center">accept_mutex_delay</td>
<td align="center">accept_mutex_delay time</td>
<td align="center"></td>
<td align="center">accept_mutex_delay 500ms</td>
<td align="center">accept_mutex_delay 200ms</td>
</tr>
<tr>
<td align="center">muti_accept</td>
<td align="center">muti_accept on|off</td>
<td align="center">onã€off</td>
<td align="center">muti_accept off</td>
<td align="center">muti_accept on</td>
</tr>
</tbody></table>
<br>

<h2 id="é…ç½®æ–‡ä»¶httpæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"><a href="#é…ç½®æ–‡ä»¶httpæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•" class="headerlink" title="é…ç½®æ–‡ä»¶httpæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•"></a>é…ç½®æ–‡ä»¶httpæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</h2><h3 id="server-nameæŒ‡ä»¤"><a href="#server-nameæŒ‡ä»¤" class="headerlink" title="server_nameæŒ‡ä»¤"></a>server_nameæŒ‡ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥å†™å¤šä¸ªserver nameï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šé…ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯ip å…·ä½“çš„åŸŸåã€‚</span></span><br><span class="line">server_name name1 name2 name3;</span><br></pre></td></tr></table></figure>

<ul>
<li>åŒ¹é…ä¼˜å…ˆçº§<ul>
<li>ç²¾ç¡®åŒ¹é… &gt; å·¦ä¾§é€šé…ç¬¦åŒ¹é… &gt; å³ä¾§é€šé…ç¬¦åŒ¹é… &gt; æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</li>
</ul>
</li>
</ul>
<br>

<h3 id="rootå’Œalias"><a href="#rootå’Œalias" class="headerlink" title="rootå’Œalias"></a>rootå’Œalias</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">è¯­æ³•</th>
<th align="center">ä¸Šä¸‹æ–‡</th>
<th align="center">å…±åŒç‚¹</th>
<th align="center">åŒºåˆ«</th>
</tr>
</thead>
<tbody><tr>
<td align="center">root</td>
<td align="center">root path;</td>
<td align="center">http server location if</td>
<td align="center">URIåˆ°ç£ç›˜æ–‡ä»¶çš„æ˜ å°„</td>
<td align="center">rootä¼šå°†å®šä¹‰è·¯å¾„ä¸URIå åŠ </td>
</tr>
<tr>
<td align="center">alias</td>
<td align="center">alias path;</td>
<td align="center">location</td>
<td align="center">URIåˆ°ç£ç›˜æ–‡ä»¶çš„æ˜ å°„</td>
<td align="center">aliasåªå–å®šä¹‰è·¯å¾„</td>
</tr>
</tbody></table>
<br>

<h3 id="locationçš„åŸºç¡€ç”¨æ³•"><a href="#locationçš„åŸºç¡€ç”¨æ³•" class="headerlink" title="locationçš„åŸºç¡€ç”¨æ³•"></a>locationçš„åŸºç¡€ç”¨æ³•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¯­æ³•ï¼š</span></span><br><span class="line">	localtion [ = | ~ | ~* | ^~ ] uri &#123;...&#125;</span><br><span class="line"><span class="meta prompt_">	</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸Šä¸‹æ–‡ï¼š</span></span><br><span class="line">	server location</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">åŒ¹é…è§„åˆ™</th>
<th align="center">å«ä¹‰</th>
<th align="center">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="center">=</td>
<td align="center">ç²¾ç¡®åŒ¹é…</td>
<td align="center"><code>location = /images/ &#123;...&#125;</code></td>
</tr>
<tr>
<td align="center">~</td>
<td align="center">æ­£åˆ™åŒ¹é…ï¼ŒåŒºåˆ†å¤§å°å†™</td>
<td align="center">`location ~ .(jpg</td>
</tr>
<tr>
<td align="center">~*</td>
<td align="center">æ­£åˆ™åŒ¹é…ï¼Œä¸åŒºåˆ†å¤§å°å†™</td>
<td align="center">`location ~* .(jpg</td>
</tr>
<tr>
<td align="center">^~</td>
<td align="center">åŒ¹é…åˆ°å³åœæ­¢æœç´¢</td>
<td align="center"><code>location ^~ /images/ &#123;...&#125;</code></td>
</tr>
<tr>
<td align="center">ä¸å¸¦ä»»ä½•ç¬¦å·</td>
<td align="center"></td>
<td align="center"><code>location / &#123;...&#125;</code></td>
</tr>
</tbody></table>
<ul>
<li>åŒ¹é…è§„åˆ™ä¼˜å…ˆçº§</li>
</ul>
<img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.4dfzxu6vkws0.webp" width="45%" />

<br>

<h3 id="ç†è§£locationä¸­urlç»“å°¾çš„åæ–œçº¿"><a href="#ç†è§£locationä¸­urlç»“å°¾çš„åæ–œçº¿" class="headerlink" title="ç†è§£locationä¸­urlç»“å°¾çš„åæ–œçº¿"></a>ç†è§£locationä¸­urlç»“å°¾çš„åæ–œçº¿</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">location /some-dir &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location /some-dir/ &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœURLçš„ç»“æ„æ˜¯<code>https://domain.com/some-dir/</code>ã€‚å°¾éƒ¨å¦‚æœç¼ºå°‘<code>/</code>å°†å¯¼è‡´é‡å®šå‘ã€‚å› ä¸ºæ ¹æ®çº¦å®šï¼ŒURLå°¾éƒ¨çš„<code>/</code>è¡¨ç¤ºç›®å½•ï¼Œæ²¡æœ‰<code>/</code>è¡¨ç¤ºæ–‡ä»¶ã€‚<ul>
<li>æ‰€ä»¥è®¿é—®<code>/some-dir/</code>æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨å»è¯¥ç›®å½•ä¸‹æ‰¾å¯¹åº”çš„é»˜è®¤æ–‡ä»¶ã€‚</li>
<li>å¦‚æœè®¿é—®<code>/some-dir</code>çš„è¯ï¼ŒæœåŠ¡å™¨ä¼šå…ˆå»æ‰¾<code>some-dir</code>æ–‡ä»¶ï¼Œæ‰¾ä¸åˆ°çš„è¯ä¼šå°†<code>some-dir</code>å½“æˆç›®å½•ï¼Œé‡å®šå‘åˆ°<code>/some-dir/</code>ï¼Œå»è¯¥ç›®å½•ä¸‹æ‰¾é»˜è®¤æ–‡ä»¶ã€‚</li>
</ul>
</li>
</ul>
<br>

<h3 id="stub-statusæ¨¡å—ç”¨æ³•"><a href="#stub-statusæ¨¡å—ç”¨æ³•" class="headerlink" title="stub_statusæ¨¡å—ç”¨æ³•"></a>stub_statusæ¨¡å—ç”¨æ³•</h3><ul>
<li><code>stub_status</code>çš„ä½¿ç”¨ï¼Œéœ€è¦Nginxç¼–è¯‘è¿›å»</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¯­æ³•ç»“æ„</span></span><br><span class="line">	stub_status;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½äº1.7.5 ç‰ˆæœ¬ï¼š</span></span><br><span class="line">	stub_status on;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸Šä¸‹æ–‡ï¼š</span></span><br><span class="line">	server location</span><br><span class="line"><span class="meta prompt_">	</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®ç¤ºä¾‹</span></span><br><span class="line">	location /uri &#123;</span><br><span class="line">		stub_status;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>çŠ¶æ€é¡¹</li>
</ul>
<img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.98fiesmzwzk.webp" width="65%" />

<br>

<ul>
<li>å†…åµŒå˜é‡</li>
</ul>
<img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.5h4bf27xt4c0.webp" width="65%" />

<br>

<br>

<br>

<h1 id="HTTPæ ¸å¿ƒæ¨¡å—"><a href="#HTTPæ ¸å¿ƒæ¨¡å—" class="headerlink" title="HTTPæ ¸å¿ƒæ¨¡å—"></a>HTTPæ ¸å¿ƒæ¨¡å—</h1><h2 id="connection-amp-request"><a href="#connection-amp-request" class="headerlink" title="connection &amp; request"></a>connection &amp; request</h2><ul>
<li>connection æ˜¯è¿æ¥ï¼Œå³å¸¸è¯´çš„tcpè¿æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼ŒçŠ¶æ€æœº</li>
<li>requestæ˜¯è¯·æ±‚ï¼Œä¾‹å¦‚httpè¯·æ±‚ï¼Œæ— çŠ¶æ€çš„åè®®</li>
<li>requestæ˜¯å¿…é¡»å»ºç«‹åœ¨connectionä¹‹ä¸Šçš„</li>
</ul>
<h1 id="å­¦ä¹ å¤‡æ³¨"><a href="#å­¦ä¹ å¤‡æ³¨" class="headerlink" title="å­¦ä¹ å¤‡æ³¨"></a>å­¦ä¹ å¤‡æ³¨</h1><blockquote>
<ol>
<li>linuxä¿¡å·é‡è¿™å—çš„ç®¡ç†æœºåˆ¶å¯ä»¥å†æŠ½æ—¶é—´æ·±å…¥ç†è§£ä¸€ä¸‹</li>
<li>ç¬¬ä¸‰ç« ã€4 çš„ç›¸å…³å†…å®¹ç®—æ˜¯æ¯”è¾ƒç®€å•ï¼Œåç»­å®è·µä¸€ä¸‹</li>
<li>éœ€è¦ç†è§£è¯·æ±‚è¿‡ç¨‹ï¼Œè¿æ¥ã€è¯·æ±‚</li>
<li>å…¶å®ç¬¬äºŒç« çš„å†…å®¹ä¹Ÿå¾ˆé‡è¦ï¼Œè¦å¯¹Nginxæœ‰æ€»ä½“ä¸Šçš„è®¤çŸ¥ï¼Œç‰¹ç‚¹ã€ä¼˜åŠ¿ç­‰ç­‰ï¼Œéœ€è¦è¯´å‡ºä¸ªæ‰€ä»¥ç„¶æ¥</li>
<li>å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹ç›¸å…³çš„çŸ¥è¯†è¿˜éœ€è¦æ·±å…¥ç†è§£ä¸€ä¸‹</li>
<li>Nginxçš„æ¨¡å—æ•´ä½“è¿˜éœ€è¦æœ‰ä¸€ä¸ªæŠŠæ¡</li>
<li>locationè¿™å—çš„å†…å®¹ è¿˜éœ€è¦è¿›ä¸€æ­¥ç†Ÿæ‚‰ä¸€ä¸‹</li>
</ol>
</blockquote>
<br>

<img src="" width="65%" />

<br>

<br>


            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li>
            <span class="type">Post title</span>ï¼š<span class="content">ã€ŠNginxä½“ç³»åŒ–æ·±åº¦ç²¾è®²ã€‹study notes</span>
        </li>
        <li>
            <span class="type">Post author</span>ï¼š<span class="content">ratears</span>
        </li>
        <li>
            <span class="type">Create time</span>ï¼š<span class="content">2019-05-24 02:47:23</span>
        </li>
        <li class="post-link">
            <span class="type">Post link</span>ï¼š<span class="content">ã€ŠNginxä½“ç³»åŒ–æ·±åº¦ç²¾è®²ã€‹study-notes/</span>
        </li>
        <li>
            <span class="type">Copyright Notice</span>ï¼š<span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span>
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="../tags/Nginx/">#Nginx</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="../kingbase/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">kingbase</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                </div>
            

            
                <div class="comment-container">
                    
<div class="comments-container">
    <div id="comments-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments"></i>&nbsp;Comments
    </div>
    
        
            

    <div class="valine-container">
        <script  src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script >
          function loadValine() {
            new Valine({
              el: '#vcomments',
              appId: 'qabhDeoP5PwMdjG1eEotHlts-gzGzoHsz',
              appKey: 'fVkafVmPzZAqx86MUOuPhmuE',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: 'ğŸ˜œ å°½æƒ…åæ§½å§~',
              lang: 'en'.toLowerCase()
            });

            function getAuthor(language) {
              switch (language) {
                case 'en':
                  return 'Author';
                case 'zh-CN':
                  return 'åšä¸»';
                default:
                  return 'Master';
              }
            }

            // Add "Author" identify
            const getValineDomTimer = setInterval(() => {
              const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
              if (vcards.length > 0) {
                let author = 'ratears';

                if (author) {
                  for (let vcard of vcards) {
                    const vnick_dom = vcard.querySelector('.vhead .vnick');
                    const vnick = vnick_dom.innerHTML;
                    if (vnick === author) {
                      vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                    }
                  }
                }
                clearInterval(getValineDomTimer);
              } else {
                clearInterval(getValineDomTimer);
              }
            }, 2000);
          }

          if ('false' === 'true') {
            const loadValineTimeout = setTimeout(() => {
              loadValine();
              clearTimeout(loadValineTimeout);
            }, 1000);
          } else {
            window.addEventListener('DOMContentLoaded', loadValine);
          }
        </script>
    </div>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Nginx%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="nav-number">1.</span> <span class="nav-text">Nginxåˆä½“éªŒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.</span> <span class="nav-text">Nginxæ¦‚å¿µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E7%BC%98%E8%B5%B7%E5%8E%86%E5%8F%B2"><span class="nav-number">1.2.</span> <span class="nav-text">Nginxç¼˜èµ·å†å²</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E4%B8%89%E4%B8%AA%E4%B8%BB%E8%A6%81%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.3.</span> <span class="nav-text">Nginxä¸‰ä¸ªä¸»è¦ä¼ä¸šåº”ç”¨åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E6%A0%B8%E5%BF%83%E4%BC%98%E5%8A%BF"><span class="nav-number">1.4.</span> <span class="nav-text">Nginxæ ¸å¿ƒä¼˜åŠ¿</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85rpm%E5%8C%85Nginx"><span class="nav-number">1.5.</span> <span class="nav-text">å®‰è£…rpmåŒ…Nginx</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Nginx%E8%BF%9B%E7%A8%8B%E7%BB%93%E6%9E%84%E4%B8%8E%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">2.</span> <span class="nav-text">Nginxè¿›ç¨‹ç»“æ„ä¸çƒ­éƒ¨ç½²</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B%E4%B8%8E%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="nav-number">2.1.</span> <span class="nav-text">å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B"><span class="nav-number">2.1.1.</span> <span class="nav-text">å¤šè¿›ç¨‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%BB%93%E6%9E%84"><span class="nav-number">2.2.</span> <span class="nav-text">Nginxçš„è¿›ç¨‹ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux%E7%9A%84%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6"><span class="nav-number">2.3.</span> <span class="nav-text">Linuxçš„ä¿¡å·é‡ç®¡ç†æœºåˆ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%AE%A1%E7%90%86Nginx"><span class="nav-number">2.4.</span> <span class="nav-text">åˆ©ç”¨ä¿¡å·é‡ç®¡ç†Nginx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%87%8D%E8%BD%BD%E7%9A%84%E5%8E%9F%E7%90%86%E7%9C%9F%E7%9B%B8"><span class="nav-number">2.5.</span> <span class="nav-text">é…ç½®æ–‡ä»¶é‡è½½çš„åŸç†çœŸç›¸</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#reload-%E9%87%8D%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="nav-number">2.5.1.</span> <span class="nav-text">reload é‡è½½é…ç½®æ–‡ä»¶çš„æµç¨‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E7%9A%84%E7%83%AD%E9%83%A8%E7%BD%B2"><span class="nav-number">2.6.</span> <span class="nav-text">Nginxçš„çƒ­éƒ¨ç½²</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%83%AD%E5%8D%87%E7%BA%A7%E7%9A%84%E6%B5%81%E7%A8%8B%EF%BC%88%E5%89%8D%E6%8F%90%EF%BC%9A%E6%96%B0%E6%97%A7Nginx%E7%9A%84%E7%BC%96%E8%AF%91%E7%9B%AE%E5%BD%95%E4%B8%80%E8%87%B4%EF%BC%89"><span class="nav-number">2.6.1.</span> <span class="nav-text">çƒ­å‡çº§çš„æµç¨‹ï¼ˆå‰æï¼šæ–°æ—§Nginxçš„ç¼–è¯‘ç›®å½•ä¸€è‡´ï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Nginx%E7%83%AD%E9%83%A8%E7%BD%B2%E5%AE%8C%E6%95%B4%E6%AD%A5%E9%AA%A4%E6%BC%94%E7%A4%BA"><span class="nav-number">2.6.2.</span> <span class="nav-text">Nginxçƒ­éƒ¨ç½²å®Œæ•´æ­¥éª¤æ¼”ç¤º</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Nginx%E7%83%AD%E5%8D%87%E7%BA%A7%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E8%A7%A3%E9%87%8A"><span class="nav-number">2.6.2.1.</span> <span class="nav-text">Nginxçƒ­å‡çº§æ ¸å¿ƒå‘½ä»¤è§£é‡Š</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Nginx%E6%AD%A3%E5%B8%B8%E7%83%AD%E5%8D%87%E7%BA%A7%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4%E6%BC%94%E7%A4%BA"><span class="nav-number">2.6.2.2.</span> <span class="nav-text">Nginxæ­£å¸¸çƒ­å‡çº§è¯¦ç»†æ­¥éª¤æ¼”ç¤º</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Nginx%E7%83%AD%E5%8D%87%E7%BA%A7%E2%80%94%E2%80%94%E5%9B%9E%E6%BB%9A%E6%83%85%E5%BD%A2%E6%BC%94%E7%A4%BA"><span class="nav-number">2.6.2.3.</span> <span class="nav-text">Nginxçƒ­å‡çº§â€”â€”å›æ»šæƒ…å½¢æ¼”ç¤º</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E6%A8%A1%E5%9D%97%E5%8C%96%E8%AE%BE%E8%AE%A1%E6%9C%BA%E5%88%B6"><span class="nav-number">2.7.</span> <span class="nav-text">Nginxæ¨¡å—åŒ–è®¾è®¡æœºåˆ¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="nav-number">2.7.1.</span> <span class="nav-text">æ¨¡å—ç»“æ„å›¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-number">2.7.2.</span> <span class="nav-text">æ¨¡å—ä½“ç³»ç»“æ„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%9A%84%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">2.8.</span> <span class="nav-text">Nginxç¼–è¯‘å®‰è£…çš„é…ç½®å‚æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E5%88%B6%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85Nginx"><span class="nav-number">2.9.</span> <span class="nav-text">å®šåˆ¶ç¼–è¯‘å®‰è£…Nginx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">2.10.</span> <span class="nav-text">Nginxé…ç½®æ–‡ä»¶ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%88%E4%B8%89%E7%A7%8D%EF%BC%89"><span class="nav-number">2.11.</span> <span class="nav-text">è™šæ‹Ÿä¸»æœºçš„åˆ†ç±»ï¼ˆä¸‰ç§ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%A4%9A%E7%BD%91%E5%8D%A1%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.11.1.</span> <span class="nav-text">åŸºäºå¤šç½‘å¡çš„è™šæ‹Ÿä¸»æœºå®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E7%AB%AF%E5%8F%A3%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.11.2.</span> <span class="nav-text">åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºå®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%9F%9F%E5%90%8D%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.11.3.</span> <span class="nav-text">åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœºå®ç°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E6%8C%87%E4%BB%A4-Nginx%E5%9F%BA%E7%A1%80%E5%BA%94%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">æ ¸å¿ƒæŒ‡ä»¤-NginxåŸºç¡€åº”ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6main%E6%AE%B5%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%E7%94%A8%E6%B3%95"><span class="nav-number">3.1.</span> <span class="nav-text">é…ç½®æ–‡ä»¶mainæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6events%E6%AE%B5%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%E7%94%A8%E6%B3%95"><span class="nav-number">3.2.</span> <span class="nav-text">é…ç½®æ–‡ä»¶eventsæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6http%E6%AE%B5%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%E7%94%A8%E6%B3%95"><span class="nav-number">3.3.</span> <span class="nav-text">é…ç½®æ–‡ä»¶httpæ®µæ ¸å¿ƒå‚æ•°ç”¨æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#server-name%E6%8C%87%E4%BB%A4"><span class="nav-number">3.3.1.</span> <span class="nav-text">server_nameæŒ‡ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#root%E5%92%8Calias"><span class="nav-number">3.3.2.</span> <span class="nav-text">rootå’Œalias</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#location%E7%9A%84%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95"><span class="nav-number">3.3.3.</span> <span class="nav-text">locationçš„åŸºç¡€ç”¨æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%A7%A3location%E4%B8%ADurl%E7%BB%93%E5%B0%BE%E7%9A%84%E5%8F%8D%E6%96%9C%E7%BA%BF"><span class="nav-number">3.3.4.</span> <span class="nav-text">ç†è§£locationä¸­urlç»“å°¾çš„åæ–œçº¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stub-status%E6%A8%A1%E5%9D%97%E7%94%A8%E6%B3%95"><span class="nav-number">3.3.5.</span> <span class="nav-text">stub_statusæ¨¡å—ç”¨æ³•</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97"><span class="nav-number">4.</span> <span class="nav-text">HTTPæ ¸å¿ƒæ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#connection-amp-request"><span class="nav-number">4.1.</span> <span class="nav-text">connection &amp; request</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E5%A4%87%E6%B3%A8"><span class="nav-number">5.</span> <span class="nav-text">å­¦ä¹ å¤‡æ³¨</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2017</span> -
            
            2022
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">ratears</a>
            
        </div>
        
            <script async 
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                
                
                    Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.5.2</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/code-block.js"></script>




<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/toc.js"></script>
        
    
</div>



</body>
</html>
