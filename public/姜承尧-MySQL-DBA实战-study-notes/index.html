<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="ratears blog">
    <meta name="description" content="ratears&#39;s blog">
    <meta name="author" content="ratears">
    
    <title>
        
            å§œæ‰¿å°§ MySQL DBAå®æˆ˜ study notes |
        
        ratears&#39;s blog
    </title>
    
<link rel="stylesheet" href="../css/style.css">

    <link rel="shortcut icon" href="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/fontawesome/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"ratears.gitee.io","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066cc","logo":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","favicon":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","avatar":"https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp","font_size":"16px","font_family":null,"hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"/images/bg.jpg","description":"ç‹¬ç«‹å¤©åœ°é—´ï¼Œæ¸…é£æ´’å…°é›ª","font_color":null,"hitokoto":false},"scroll":{"progress_bar":true,"percent":true}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":false},"comment":{"enable":true,"use":"valine","valine":{"appid":"qabhDeoP5PwMdjG1eEotHlts-gzGzoHsz","appkey":"fVkafVmPzZAqx86MUOuPhmuE","placeholder":"ğŸ˜œ å°½æƒ…åæ§½å§~"},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.7"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Engineer"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"center","copyright_info":true},"version":"3.5.2"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"};
  </script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="atom.xml" title="ratears" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
                </a>
            
            <a class="logo-title" href="/">
               ratears&#39;s blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="../index.html"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../links"
                            >
                                LINKS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../index.html">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../links">LINKS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">å§œæ‰¿å°§ MySQL DBAå®æˆ˜ study notes</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="https://cdn.staticaly.com/gh/ratears/image-hosting@main/blog-img-bed/image.28pe6afbup3w.webp">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">ratears</span>
                            
                                <span class="author-label">Lv4</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2022-05-18 01:33:04</span>
        <span class="mobile">2022-05-18 01:33</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2022-05-18 01:33:04</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="../categories/database/">database</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="../categories/database/mysql/">mysql</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="../tags/mysql/">mysql</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>4.3k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>20 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                <h1 id="ç¬¬01å¤©-Mysqlç®€ä»‹ä¸å‰æ™¯"><a href="#ç¬¬01å¤©-Mysqlç®€ä»‹ä¸å‰æ™¯" class="headerlink" title="ç¬¬01å¤©_Mysqlç®€ä»‹ä¸å‰æ™¯"></a>ç¬¬01å¤©_Mysqlç®€ä»‹ä¸å‰æ™¯</h1><br>

<br>

<br>

<h1 id="ç¬¬02å¤©-MySQLå®‰è£…ä¸åŸºæœ¬å‘½ä»¤"><a href="#ç¬¬02å¤©-MySQLå®‰è£…ä¸åŸºæœ¬å‘½ä»¤" class="headerlink" title="ç¬¬02å¤©_MySQLå®‰è£…ä¸åŸºæœ¬å‘½ä»¤"></a>ç¬¬02å¤©_MySQLå®‰è£…ä¸åŸºæœ¬å‘½ä»¤</h1><h2 id="MySQLå®‰è£…æ­¥éª¤"><a href="#MySQLå®‰è£…æ­¥éª¤" class="headerlink" title="MySQLå®‰è£…æ­¥éª¤"></a>MySQLå®‰è£…æ­¥éª¤</h2><ul>
<li>å¸è½½æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„mariadbï¼Œä¸‹è½½mysqlå®‰è£…çš„çš„ä¾èµ–</li>
<li>åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·</li>
<li>é…ç½®<code>/etc/my.cnf</code></li>
<li>å®˜ç½‘ä¸‹è½½mysqlæ•°æ®åº“</li>
<li>åˆ›å»ºç›®å½•ï¼Œè®¾ç½®æƒé™ã€‚åˆå§‹åŒ–mysqlå…ƒæ•°æ®åº“</li>
<li>å°†mysqlæ·»åŠ åˆ°å¯åŠ¨é¡¹</li>
</ul>
<br>

<br>

<h2 id="MySQL-5-6-å®‰è£…è¿‡ç¨‹"><a href="#MySQL-5-6-å®‰è£…è¿‡ç¨‹" class="headerlink" title="MySQL 5.6 å®‰è£…è¿‡ç¨‹"></a>MySQL 5.6 å®‰è£…è¿‡ç¨‹</h2><ul>
<li>å®˜ç½‘MySQL 5.6å®‰è£…å‚è€ƒæ‰‹å†Œï¼š<a class="link"   target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.6/en/binary-installation.html" >MySQL 5.6 Reference Manual-Installing MySQL on Unix/Linux Using Generic Binaries<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<ul>
<li>ï¼ˆ1ï¼‰å¸è½½æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„ mariadb/mysql æ•°æ®åº“</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -qa | grep mariadb | xargs yum remove -y</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ2ï¼‰åˆ›å»ºæ•°æ®ç›®å½•</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir -p /install /backup /data</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ3ï¼‰åˆ›å»ºmysqlç”¨æˆ·å’Œç”¨æˆ·ç»„</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ4ï¼‰ä¸‹è½½å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦çš„ä¾èµ–</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y libaio autoconf</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ5ï¼‰æ–°å»º/ç¼–è¾‘ <code>/etc/my.cnf</code> æ–‡ä»¶ï¼ˆéœ€è¦å…ˆé…ç½®å¥½è¿™ä¸ªæ–‡ä»¶ï¼Œå¦åˆ™ï¼Œå®‰è£…åå¯åŠ¨æŠ¥é”™ï¼‰</li>
</ul>
<p><code>vim /etc/my.cnf</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰€æœ‰å®¢æˆ·ç«¯ç™»å½•è¿›å»åå¯ä»¥é…ç½®çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlè¿™ä¸ªå‘½åç™»å½•è¿›å»åé…ç½®çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlæœåŠ¡å™¨å¯åŠ¨æ—¶å€™çš„å‚æ•°</span></span><br><span class="line">port = 3306</span><br><span class="line">user = mysql</span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line">datadir = /data</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ6ï¼‰ä¸‹è½½mysql5.6çš„å®‰è£…åŒ…ï¼Œå¹¶è§£å‹åˆ° <code>/usr/local/</code> ç›®å½•ä¸‹ï¼Œåˆ›å»ºè½¯è¿æ¥ï¼ˆä¾¿äºç®¡ç†mysqlï¼‰</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost install]# wget wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.6.51-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ ¡éªŒä¸‹è½½çš„æ•°æ®åº“å‹ç¼©åŒ…MD5å€¼ï¼Œå’Œå®˜ç½‘è¿›è¡Œæ¯”è¾ƒï¼Œè¾¨åˆ«æ˜¯å¦è¢«ç¯¡æ”¹è¿‡</span></span><br><span class="line">[root@localhost install]# md5sum mysql-5.6.51-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"></span><br><span class="line">[root@localhost install]# tar -zxvf mysql-5.6.51-linux-glibc2.12-x86_64.tar.gz -C /usr/local/</span><br><span class="line"></span><br><span class="line">[root@localhost local]# cd /usr/local/</span><br><span class="line">[root@localhost local]# ln -s mysql-5.6.51-linux-glibc2.12-x86_64/ mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ7ï¼‰è®¾ç½®ç›®å½•æƒé™</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# chown -R mysql.mysql /data/</span><br><span class="line">[root@localhost local]# chmod 750 /data/</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ8ï¼‰åˆå§‹åŒ–mysql</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# cd /usr/local/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlåˆå§‹åŒ–æ•°æ®åº“çš„è¯­å¥ï¼Œ5.6 å’Œ 5.7 æ˜¯ä¸ä¸€æ ·çš„ï¼Œéœ€è¦æ³¨æ„</span></span><br><span class="line">[root@localhost mysql]# scripts/mysql_install_db --user=mysql</span><br><span class="line"></span><br><span class="line">[root@localhost mysql]# bin/mysqld_safe --user=mysql &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‹·è´å¯åŠ¨è„šæœ¬ï¼ˆæœåŠ¡ï¼‰åˆ°æŒ‡å®šä½ç½®ï¼Œä¾¿äºç®¡ç†ã€ä½¿ç”¨</span></span><br><span class="line">[root@localhost mysql]# cp support-files/mysql.server /etc/init.d/mysql.server</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="MySQL-5-7-å®‰è£…è¿‡ç¨‹"><a href="#MySQL-5-7-å®‰è£…è¿‡ç¨‹" class="headerlink" title="MySQL 5.7 å®‰è£…è¿‡ç¨‹"></a>MySQL 5.7 å®‰è£…è¿‡ç¨‹</h2><ul>
<li>å®˜ç½‘MySQL 5.7å®‰è£…å‚è€ƒæ‰‹å†Œï¼š<a class="link"   target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/binary-installation.html" >MySQL 5.7 Reference Manual-Installing MySQL on Unix/Linux Using Generic Binaries<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<ul>
<li>ï¼ˆ1ï¼‰å¸è½½æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„ mariadb/mysql æ•°æ®åº“</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -qa | grep mariadb | xargs yum remove -y</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ2ï¼‰åˆ›å»ºæ•°æ®ç›®å½•</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir -p /install /backup /data</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ3ï¼‰åˆ›å»ºmysqlç”¨æˆ·å’Œç”¨æˆ·ç»„</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ4ï¼‰ä¸‹è½½å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦çš„ä¾èµ–</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y libaio autoconf</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ5ï¼‰æ–°å»º/ç¼–è¾‘ <code>/etc/my.cnf</code> æ–‡ä»¶ï¼ˆéœ€è¦å…ˆé…ç½®å¥½è¿™ä¸ªæ–‡ä»¶ï¼Œå¦åˆ™ï¼Œå®‰è£…åå¯åŠ¨æŠ¥é”™ï¼‰</li>
</ul>
<p><code>vim /etc/my.cnf</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰€æœ‰å®¢æˆ·ç«¯ç™»å½•è¿›å»åå¯ä»¥é…ç½®çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlè¿™ä¸ªå‘½ä»¤ç™»å½•è¿›å»åé…ç½®çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlæœåŠ¡å™¨å¯åŠ¨æ—¶å€™çš„å‚æ•°</span></span><br><span class="line">port = 3306</span><br><span class="line">user = mysql</span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line">datadir = /data</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ6ï¼‰ä¸Šä¼ mysql5.7çš„å®‰è£…åŒ…ï¼Œå¹¶è§£å‹åˆ° <code>/usr/local/</code> ç›®å½•ä¸‹ï¼Œåˆ›å»ºè½¯è¿æ¥ï¼ˆä¾¿äºç®¡ç†mysqlï¼‰</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost install]# tar -zxvf mysql-5.7.39-linux-glibc2.12-x86_64.tar.gz -C /usr/local/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ ¡éªŒä¸‹è½½çš„æ•°æ®åº“å‹ç¼©åŒ…MD5å€¼ï¼Œå’Œå®˜ç½‘è¿›è¡Œæ¯”è¾ƒï¼Œè¾¨åˆ«æ˜¯å¦è¢«ç¯¡æ”¹è¿‡</span></span><br><span class="line">[root@localhost install]# md5sum mysql-5.7.39-linux-glibc2.12-x86_64.tar.gz</span><br><span class="line"></span><br><span class="line">[root@localhost local]# cd /usr/local/</span><br><span class="line">[root@localhost local]# ln -s mysql-5.7.39-linux-glibc2.12-x86_64/ mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ7ï¼‰è®¾ç½®ç›®å½•æƒé™</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# chown -R mysql.mysql /data/</span><br><span class="line">[root@localhost local]# chmod 750 /data/</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ8ï¼‰åˆå§‹åŒ–mysql</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost local]# cd /usr/local/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mysqlåˆå§‹åŒ–æ•°æ®åº“çš„è¯­å¥ï¼Œ5.6 å’Œ 5.7 æ˜¯ä¸ä¸€æ ·çš„ï¼Œéœ€è¦æ³¨æ„</span></span><br><span class="line">[root@localhost mysql]# bin/mysqld --initialize --user=mysql</span><br><span class="line"></span><br><span class="line">[root@localhost mysql]# bin/mysqld_safe --user=mysql &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‹·è´å¯åŠ¨è„šæœ¬ï¼ˆæœåŠ¡ï¼‰åˆ°æŒ‡å®šä½ç½®ï¼Œä¾¿äºç®¡ç†ã€ä½¿ç”¨</span></span><br><span class="line">[root@localhost mysql]# cp support-files/mysql.server /etc/init.d/mysql.server</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="MySQLå®‰è£…æˆåŠŸåè¿›è¡ŒåŸºç¡€é…ç½®"><a href="#MySQLå®‰è£…æˆåŠŸåè¿›è¡ŒåŸºç¡€é…ç½®" class="headerlink" title="MySQLå®‰è£…æˆåŠŸåè¿›è¡ŒåŸºç¡€é…ç½®"></a>MySQLå®‰è£…æˆåŠŸåè¿›è¡ŒåŸºç¡€é…ç½®</h2><ul>
<li>ï¼ˆ1ï¼‰è®¾ç½®MySQLå¼€æœºè‡ªå¯åŠ¨</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠ mysql çš„æœåŠ¡åŠ å…¥å¼€æœºè‡ªå¯åŠ¨é¡¹ç›®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># chkconfig --add mysql.server</span></span><br><span class="line">[root@localhost ~]<span class="comment"># chkconfig --list</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ2ï¼‰é…ç½®MySQLç¯å¢ƒå˜é‡</li>
</ul>
<p><code>vim /etc/profile</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/local/mysql/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p><code>source /etc/profile</code></p>
<ul>
<li>ï¼ˆ3ï¼‰æ·»åŠ æ—¥å¿—æ–‡ä»¶é…ç½®</li>
</ul>
<p><code>vim /etc/my.cnf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">log_error = error.log</span><br></pre></td></tr></table></figure>

<ul>
<li>ï¼ˆ4ï¼‰ä¿®æ”¹åˆå§‹å¯†ç </li>
</ul>
<blockquote>
<p>5.7</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set password=&#x27;root&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>5.6</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set password=password(&quot;root&quot;);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="MySQLçš„å…¶å®ƒé…ç½®"><a href="#MySQLçš„å…¶å®ƒé…ç½®" class="headerlink" title="MySQLçš„å…¶å®ƒé…ç½®"></a>MySQLçš„å…¶å®ƒé…ç½®</h2><h3 id="å…å¯†ç™»å½•"><a href="#å…å¯†ç™»å½•" class="headerlink" title="å…å¯†ç™»å½•"></a>å…å¯†ç™»å½•</h3><p><code>vim /etc/my.cnf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">#  mysqlè¿™ä¸ªå‘½ä»¤æ¯æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šå»è¯»é…ç½®æ–‡ä»¶ï¼Œè¯»åˆ°[client]æ ‡ç­¾ï¼Œä¼šè‡ªåŠ¨æŠŠç”¨æˆ·åå’Œå¯†ç æ·»åŠ åˆ°åé¢ã€‚æ‰€ä»¥è¾“å…¥ mysql åå›è½¦ä¾¿å¯ç›´æ¥ç™»å½•</span><br><span class="line">user = root</span><br><span class="line">password = root</span><br></pre></td></tr></table></figure>

<br>

<h3 id="å®šåˆ¶MySQLç»ˆç«¯æç¤ºç¬¦"><a href="#å®šåˆ¶MySQLç»ˆç«¯æç¤ºç¬¦" class="headerlink" title="å®šåˆ¶MySQLç»ˆç«¯æç¤ºç¬¦"></a>å®šåˆ¶MySQLç»ˆç«¯æç¤ºç¬¦</h3><p><code>vim /etc/my.cnf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">prompt = (\u@\h) [\d]&gt;\_</span><br></pre></td></tr></table></figure>

<br>

<h3 id="å…è®¸MySQLè¿œç¨‹ç™»å½•"><a href="#å…è®¸MySQLè¿œç¨‹ç™»å½•" class="headerlink" title="å…è®¸MySQLè¿œç¨‹ç™»å½•"></a>å…è®¸MySQLè¿œç¨‹ç™»å½•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(root@localhost) [(none)]&gt; grant all on *.* to root@&#x27;%&#x27; identified by &#x27;root&#x27; with grant option;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">(root@localhost) [(none)]&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="MySQL-5-6ä¸5-7-å®‰è£…ä¸Šçš„å·®å¼‚"><a href="#MySQL-5-6ä¸5-7-å®‰è£…ä¸Šçš„å·®å¼‚" class="headerlink" title="MySQL 5.6ä¸5.7 å®‰è£…ä¸Šçš„å·®å¼‚"></a>MySQL 5.6ä¸5.7 å®‰è£…ä¸Šçš„å·®å¼‚</h2><ul>
<li><p>ï¼ˆ1ï¼‰5.6 å®‰è£…å®Œæ²¡æœ‰å¯†ç ï¼Œè€Œ5.7åˆå§‹åŒ–å®Œæˆä¼šæœ‰å¯†ç </p>
<blockquote>
<p>å¦‚æœå¸Œæœ›MySQL5.7å®‰è£…åˆå§‹åŒ–çš„æ—¶å€™è¡¨ç°è·ŸMySQL5.6ä¸€æ ·-æ²¡æœ‰å¯†ç ï¼Œåˆ™å¯ä»¥åœ¨åˆå§‹åŒ–æ•°æ®åº“çš„è¯­å¥ä¸­    <code>bin/mysqld --initialize --user=mysql</code>ï¼ŒæŠŠ    <code>--initialize</code>    æ›¿æ¢æˆ    <code>--initialize-insecure</code>ã€‚ï¼ˆå¯ä»¥é€šè¿‡     <code>mysqld --verbose --help | less    </code>æŸ¥çœ‹åˆ°ä¸¤ä¸ªå‚æ•°çš„è¯´æ˜ï¼‰</p>
</blockquote>
</li>
</ul>
<ul>
<li>ï¼ˆ2ï¼‰åˆå§‹åŒ–å‘½ä»¤ä¸ä¸€æ ·<ul>
<li>5.6ï¼š<code>scripts/mysql_install_db --user=mysql</code></li>
<li>5.7ï¼š<code>bin/mysqld --initialize --user=mysql</code></li>
</ul>
</li>
</ul>
<ul>
<li>ï¼ˆ3ï¼‰è®¾ç½®å¯†ç çš„æ–¹å¼ä¸ä¸€æ ·<ul>
<li>5.6ï¼š<code>set password = password(&quot;mysql&quot;);</code></li>
<li>5.7ï¼š<code>set password=&#39;mysql&#39;;</code></li>
</ul>
</li>
</ul>
<br>

<br>

<h2 id="æŸ¥çœ‹MySQL-å®‰è£…åçš„é»˜è®¤å‚æ•°"><a href="#æŸ¥çœ‹MySQL-å®‰è£…åçš„é»˜è®¤å‚æ•°" class="headerlink" title="æŸ¥çœ‹MySQL å®‰è£…åçš„é»˜è®¤å‚æ•°"></a>æŸ¥çœ‹MySQL å®‰è£…åçš„é»˜è®¤å‚æ•°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --verbose --help</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="ä½œä¸š"><a href="#ä½œä¸š" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><blockquote>
<p>ç†Ÿç»ƒå®‰è£… mysql 5.6ã€5.7</p>
<p>mysql 5.6ã€5.7 è‡ªåŠ¨å®‰è£…çš„è„šæœ¬ã€‚</p>
</blockquote>
<br>

<br>

<h2 id="MySQL-5-6-å‡çº§åˆ°-5-7"><a href="#MySQL-5-6-å‡çº§åˆ°-5-7" class="headerlink" title="MySQL 5.6 å‡çº§åˆ° 5.7"></a>MySQL 5.6 å‡çº§åˆ° 5.7</h2><h1 id="ç¬¬03å¤©-MySQLå®¢æˆ·ç«¯è¿æ¥ä¸æƒé™ç®¡ç†"><a href="#ç¬¬03å¤©-MySQLå®¢æˆ·ç«¯è¿æ¥ä¸æƒé™ç®¡ç†" class="headerlink" title="ç¬¬03å¤©_MySQLå®¢æˆ·ç«¯è¿æ¥ä¸æƒé™ç®¡ç†"></a>ç¬¬03å¤©_MySQLå®¢æˆ·ç«¯è¿æ¥ä¸æƒé™ç®¡ç†</h1><h2 id="mysqlæœ€ä¼˜é…ç½®æ–‡ä»¶å‚è€ƒ"><a href="#mysqlæœ€ä¼˜é…ç½®æ–‡ä»¶å‚è€ƒ" class="headerlink" title="mysqlæœ€ä¼˜é…ç½®æ–‡ä»¶å‚è€ƒ"></a>mysqlæœ€ä¼˜é…ç½®æ–‡ä»¶å‚è€ƒ</h2><p><a class="link"   target="_blank" rel="noopener" href="https://github.com/jdaaaaaavid/mysql_best_configuration/blob/master/my.cnf" > mysql_best_configuration<i class="fas fa-external-link-alt"></i></a></p>
<br>

<br>

<h2 id="MySQLå¯ä»¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶"><a href="#MySQLå¯ä»¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶" class="headerlink" title="MySQLå¯ä»¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶"></a>MySQLå¯ä»¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># mysql åœ¨å¯åŠ¨çš„æ—¶å€™ä¼šä¾æ¬¡å»è¯»å–ä¸‹é¢çš„æ–‡ä»¶</span><br><span class="line">[root@localhost ~]# mysql --verbose --help | grep my.cnf</span><br><span class="line">                      order of preference, my.cnf, $MYSQL_TCP_PORT,</span><br><span class="line">/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf ~/.my.cnf</span><br></pre></td></tr></table></figure>

<ul>
<li>éµå¾ªå‚æ•°æ›¿æ¢åŸåˆ™ã€‚åé¢çš„å‚æ•°ä¼šæ›¿æ¢å‰é¢çš„å‚æ•°</li>
</ul>
<br>

<br>

<h2 id="MySQLçš„é…ç½®æ–‡ä»¶å‚æ•°"><a href="#MySQLçš„é…ç½®æ–‡ä»¶å‚æ•°" class="headerlink" title="MySQLçš„é…ç½®æ–‡ä»¶å‚æ•°"></a>MySQLçš„é…ç½®æ–‡ä»¶å‚æ•°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"># æ‰€æœ‰å®¢æˆ·ç«¯ç™»å½•è¿›å»åå¯ä»¥é…ç½®çš„å‚æ•°</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"># mysqlè¿™ä¸ªå‘½ä»¤ç™»å½•è¿›å»åé…ç½®çš„å‚æ•°</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"># mysqlæœåŠ¡å™¨å¯åŠ¨æ—¶å€™çš„å‚æ•°</span><br><span class="line">port = 3306</span><br><span class="line">user = mysql</span><br><span class="line">datadir = /data</span><br><span class="line">log_error = error.log</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹mysqlçš„å‚æ•°ï¼Œå½“å‰é…ç½®çš„å€¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># é»˜è®¤çœç•¥äº†session</span><br><span class="line">show variables;</span><br><span class="line"></span><br><span class="line">show session variables;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;log_error&#x27;;</span><br><span class="line"></span><br><span class="line">show global variables like &#x27;%log%&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># å¯¹å·²ç»åˆ›å»ºçš„è¿æ¥ä¸ç”Ÿæ•ˆï¼Œåªå¯¹æ–°åˆ›å»ºçš„è¿æ¥ç”Ÿæ•ˆ</span><br><span class="line">set global long_query_time=5;</span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th align="center">å‘½ä»¤</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">SHOW [GLOBAL |SESSION] VARIABLES [LIKE  â€˜patternâ€™ |WHERE expr]</td>
<td align="center">æŸ¥çœ‹å˜é‡ï¼Œå¯æ ¹æ®likeè¿›è¡Œè¿‡æ»¤</td>
</tr>
<tr>
<td align="center">SET [GLOBAL|SESSION] VARIABLES = xxx</td>
<td align="center">ä¿®æ”¹globalæˆ–sessionçš„å‚æ•°</td>
</tr>
</tbody></table>
<h2 id="MySQLçš„å‚æ•°åˆ†ç±»"><a href="#MySQLçš„å‚æ•°åˆ†ç±»" class="headerlink" title="MySQLçš„å‚æ•°åˆ†ç±»"></a>MySQLçš„å‚æ•°åˆ†ç±»</h2><ul>
<li>ä»ä½œç”¨åŸŸä¸Šå¯åˆ†ä¸ºglobalå’Œsession<ul>
<li>seesionï¼šåªå¯¹å½“å‰è¿™ä¸€ä¸ªè¿æ¥æœ‰æ•ˆ</li>
<li>globalï¼šå…¨å±€æœ‰æ•ˆ</li>
</ul>
</li>
<li>ä»ç±»å‹ä¸Šåˆå¯åˆ†ä¸ºå¯ä¿®æ”¹å’Œåªè¯»å‚æ•°<ul>
<li>ç”¨æˆ·å¯åœ¨çº¿ä¿®æ”¹éåªè¯»å‚æ•°</li>
<li>åªè¯»å‚æ•°åªèƒ½é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹å¹¶é‡å¯</li>
<li>æ‰€æœ‰å‚æ•°çš„ä¿®æ”¹éƒ½ä¸æŒä¹…åŒ–</li>
</ul>
</li>
</ul>
<h3 id="å½“å‰ä¼šè¯ä¸‹ï¼ŒæŸ¥çœ‹å…¶å®ƒè¿æ¥çš„-variables"><a href="#å½“å‰ä¼šè¯ä¸‹ï¼ŒæŸ¥çœ‹å…¶å®ƒè¿æ¥çš„-variables" class="headerlink" title="å½“å‰ä¼šè¯ä¸‹ï¼ŒæŸ¥çœ‹å…¶å®ƒè¿æ¥çš„ variables"></a>å½“å‰ä¼šè¯ä¸‹ï¼ŒæŸ¥çœ‹å…¶å®ƒè¿æ¥çš„ variables</h3><ul>
<li>mysql5.7å¼€å§‹ï¼Œå¤šäº†ä¸€ä¸ªæ•°æ®åº“    <code>performance_schema</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">use performance_schema;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">show tables like &#x27;%variables%&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(root@localhost) [performance_schema]&gt; select * from variables_by_thread where variable_name = &#x27;long_query_time&#x27;;</span><br><span class="line">+-----------+-----------------+----------------+</span><br><span class="line">| THREAD_ID | VARIABLE_NAME   | VARIABLE_VALUE |</span><br><span class="line">+-----------+-----------------+----------------+</span><br><span class="line">|        31 | long_query_time | 10.000000      |</span><br><span class="line">|        33 | long_query_time | 10.000000      |</span><br><span class="line">+-----------+-----------------+----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å½“å‰è¿æ¥åˆ°mysqlçš„çº¿ç¨‹åˆ—è¡¨ï¼Œä»¥åŠå®ƒåœ¨åšä»€ä¹ˆäº‹æƒ…ï¼›</span><br><span class="line">(root@localhost) [performance_schema]&gt; show processlist;</span><br><span class="line">+----+------+-----------+--------------------+---------+------+----------+------------------+</span><br><span class="line">| Id | User | Host      | db                 | Command | Time | State    | Info             |</span><br><span class="line">+----+------+-----------+--------------------+---------+------+----------+------------------+</span><br><span class="line">|  6 | root | localhost | performance_schema | Sleep   |  766 |          | NULL             |</span><br><span class="line">|  8 | root | localhost | performance_schema | Query   |    0 | starting | show processlist |</span><br><span class="line">+----+------+-----------+--------------------+---------+------+----------+------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å½“å‰è¿æ¥çš„idï¼Œè¿™ä¸ªidåœ¨processlist é‡Œé¢</span><br><span class="line">(root@localhost) [performance_schema]&gt; select connection_id();</span><br><span class="line">+-----------------+</span><br><span class="line">| connection_id() |</span><br><span class="line">+-----------------+</span><br><span class="line">|               8 |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è¿™å¼ è¡¨é‡Œ æœ‰ thread_id å’Œ processlist_idï¼Œé€šè¿‡è¿™å¼ è¡¨ï¼Œåšå…³è”æŸ¥è¯¢ï¼Œåˆ™å¯ä»¥æŸ¥è¯¢å…¶å®ƒä¼šè¯çš„å˜é‡å€¼</span><br><span class="line">(root@localhost) [performance_schema]&gt; select * from threads limit 1\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          THREAD_ID: 1</span><br><span class="line">               NAME: thread/sql/main</span><br><span class="line">               TYPE: BACKGROUND</span><br><span class="line">     PROCESSLIST_ID: NULL</span><br><span class="line">   PROCESSLIST_USER: NULL</span><br><span class="line">   PROCESSLIST_HOST: NULL</span><br><span class="line">     PROCESSLIST_DB: NULL</span><br><span class="line">PROCESSLIST_COMMAND: NULL</span><br><span class="line">   PROCESSLIST_TIME: 1967</span><br><span class="line">  PROCESSLIST_STATE: NULL</span><br><span class="line">   PROCESSLIST_INFO: NULL</span><br><span class="line">   PARENT_THREAD_ID: NULL</span><br><span class="line">               ROLE: NULL</span><br><span class="line">       INSTRUMENTED: YES</span><br><span class="line">            HISTORY: YES</span><br><span class="line">    CONNECTION_TYPE: NULL</span><br><span class="line">       THREAD_OS_ID: 3562</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<br>

<br>

<h2 id="æƒé™ç®¡ç†"><a href="#æƒé™ç®¡ç†" class="headerlink" title="æƒé™ç®¡ç†"></a>æƒé™ç®¡ç†</h2><ul>
<li>mysqlçš„æƒé™è®¤è¯åˆ†æˆï¼šç”¨æˆ·åã€å¯†ç ã€IP</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/sonzonzy/image-hosting@main/blog-img-bed/1652975371(1).66aoeywjsa80.webp" />

<ul>
<li><p>mysqlçš„æƒé™åˆ†æˆï¼šå…¨å±€ï¼ˆæ‰€æœ‰åº“ï¼‰ã€æŒ‡å®šåº“ã€æŒ‡å®šè¡¨ã€æŒ‡å®šåˆ—</p>
</li>
<li><p>å¸¸ç”¨çš„æƒé™</p>
<ul>
<li>SQLè¯­å¥ï¼šSELECTã€INSERTã€UPDATEã€DELETEã€INDEX</li>
<li>å­˜å‚¨è¿‡ç¨‹ï¼šCREATE ROUTINEã€ALTER ROUTINEã€EXECUTEã€TRIGGER</li>
<li>ç®¡ç†æƒé™ï¼šSUPERã€RELOADã€SHOW DATABASEã€SHUTDOWNã€GRANT OPTION</li>
</ul>
</li>
<li><p>å¸¸ç”¨æƒé™ã€ç”¨æˆ·ç›¸å…³sqlè¯­å¥</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">create user &#x27;sao&#x27;@&#x27;192.168.%.%&#x27; identified by &#x27;sao&#x27;;</span><br><span class="line"></span><br><span class="line">drop user &#x27;sao&#x27;@&#x27;192.168.%.%&#x27;;</span><br><span class="line"></span><br><span class="line">#æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„æƒé™ è¿™ä¸‰ä¸ªæ˜¯åŒä¸€ä¸ªæ„æ€</span><br><span class="line">show grants;</span><br><span class="line">show grants for current_user;</span><br><span class="line">show grants for current_user();</span><br><span class="line"></span><br><span class="line">grant select,update,delete,insert on mysql.* to &#x27;sao&#x27;@&#x27;192.168.%.%&#x27;;</span><br><span class="line"></span><br><span class="line">show grants for &#x27;sao&#x27;@&#x27;192.168.%.%&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ä¸æ¨è ä½¿ç”¨grant åŒæ—¶åˆ›å»ºæƒé™å’Œç”¨æˆ·ã€‚</span><br><span class="line">(root@localhost) [(none)]&gt; grant select,update,delete,insert on mysql.* to &#x27;sa&#x27;@&#x27;192.168.%.%&#x27; identified by &#x27;sa&#x27;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">(root@localhost) [(none)]&gt; show warnings;</span><br><span class="line">+---------+------+------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Level   | Code | Message                                                                                                                            |</span><br><span class="line">+---------+------+------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Warning | 1287 | Using GRANT for creating new user is deprecated and will be removed in future release. Create new user with CREATE USER statement. |</span><br><span class="line">+---------+------+------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alter user &#x27;sao&#x27;@&#x27;192.168.%.%&#x27; identified by &#x27;saosao&#x27;;</span><br><span class="line"></span><br><span class="line">revoke select on mysql.* from &#x27;sao&#x27;@&#x27;192.168.%.%&#x27;;</span><br><span class="line"></span><br><span class="line">grant create,index on mysql.* to &#x27;sao&#x27;@&#x27;192.168.%.%&#x27; with grant option;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># mysql ä¸‹çš„ mysqlåº“ä¸­çš„æƒé™è¡¨</span><br><span class="line"># userè¡¨ä¸­å­˜æ”¾å…¨å±€æƒé™</span><br><span class="line">user</span><br><span class="line">db</span><br><span class="line">tables_priv </span><br><span class="line">columns_priv</span><br></pre></td></tr></table></figure>

<p><font color="red"><strong>æ³¨æ„ï¼šä¸è¦é€šè¿‡ä¿®æ”¹æƒé™è¡¨æ¥æ›´æ”¹ç”¨æˆ·æƒé™</strong></font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mysql 5.7 å¯†ç åŠ å¯†ä½¿ç”¨çš„æ˜¯ password()è¿™ä¸ªå‡½æ•°</span><br><span class="line">select password(&#x27;456&#x27;);</span><br></pre></td></tr></table></figure>

<h2 id="èµ„æºç®¡ç†"><a href="#èµ„æºç®¡ç†" class="headerlink" title="èµ„æºç®¡ç†"></a>èµ„æºç®¡ç†</h2><ul>
<li>MAX_QUERIES_PER_HOUR <em>count</em></li>
<li>MAX_UPDATES_PER_HOUR <em>count</em></li>
<li>MAX_CONNECTIONS_PER_HOUR <em>count</em></li>
<li>MAX_USER_CONNECTIONS <em>count</em></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ä¿®æ”¹ç”¨æˆ·çš„æœ€å¤§è¿æ¥æ•°</span><br><span class="line">alter user &#x27;sao&#x27;@&#x27;192.168.%.%&#x27; with MAX_USER_CONNECTIONS 2;</span><br></pre></td></tr></table></figure>

<br>

<br>

<br>

<h1 id="ç¬¬04å¤©-SSLåŠ å¯†è¿æ¥ä¸å¯†ç æ’ä»¶"><a href="#ç¬¬04å¤©-SSLåŠ å¯†è¿æ¥ä¸å¯†ç æ’ä»¶" class="headerlink" title="ç¬¬04å¤©_SSLåŠ å¯†è¿æ¥ä¸å¯†ç æ’ä»¶"></a>ç¬¬04å¤©_SSLåŠ å¯†è¿æ¥ä¸å¯†ç æ’ä»¶</h1><h2 id="è¿æ¥MySQLå®ä¾‹"><a href="#è¿æ¥MySQLå®ä¾‹" class="headerlink" title="è¿æ¥MySQLå®ä¾‹"></a>è¿æ¥MySQLå®ä¾‹</h2><h3 id="é€šè¿‡æœ¬åœ°socketè¿›è¡Œè¿æ¥"><a href="#é€šè¿‡æœ¬åœ°socketè¿›è¡Œè¿æ¥" class="headerlink" title="é€šè¿‡æœ¬åœ°socketè¿›è¡Œè¿æ¥"></a>é€šè¿‡æœ¬åœ°<em>socket</em>è¿›è¡Œè¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mysqlæœåŠ¡å™¨æœ¬åœ° ï¼Œé»˜è®¤ä½¿ç”¨socketæ–¹å¼è¿æ¥ã€‚ é»˜è®¤çœç•¥ -S/tmp/mysql.socket</span><br><span class="line">mysql -uroot -p -S/tmp/mysql.socket</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(root@localhost) [(none)]&gt; show variables like &#x27;%socket%&#x27;</span><br><span class="line">    -&gt; ;</span><br><span class="line">+-----------------------------------------+-----------------+</span><br><span class="line">| Variable_name                           | Value           |</span><br><span class="line">+-----------------------------------------+-----------------+</span><br><span class="line">| performance_schema_max_socket_classes   | 10              |</span><br><span class="line">| performance_schema_max_socket_instances | -1              |</span><br><span class="line">| socket                                  | /tmp/mysql.sock |</span><br><span class="line">+-----------------------------------------+-----------------+</span><br><span class="line">3 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹å½“å‰è¿æ¥çš„çŠ¶æ€</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(root@localhost) [mysql]&gt; \s</span><br><span class="line">--------------</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.37, for linux-glibc2.12 (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br><span class="line">Connection id:          2</span><br><span class="line">Current database:       mysql</span><br><span class="line">Current user:           root@localhost</span><br><span class="line">SSL:                    Not in use</span><br><span class="line">Current pager:          stdout</span><br><span class="line">Using outfile:          &#x27;&#x27;</span><br><span class="line">Using delimiter:        ;</span><br><span class="line">Server version:         5.7.37 MySQL Community Server (GPL)</span><br><span class="line">Protocol version:       10</span><br><span class="line">Connection:             Localhost via UNIX socket</span><br><span class="line">Server characterset:    latin1</span><br><span class="line">Db     characterset:    latin1</span><br><span class="line">Client characterset:    utf8</span><br><span class="line">Conn.  characterset:    utf8</span><br><span class="line">UNIX socket:            /tmp/mysql.sock</span><br><span class="line">Uptime:                 35 sec</span><br><span class="line"></span><br><span class="line">Threads: 1  Questions: 41  Slow queries: 0  Opens: 136  Flush tables: 1  Open tables: 129  Queries per second avg: 1.171</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">(root@localhost) [mysql]&gt; status;</span><br><span class="line">--------------</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.37, for linux-glibc2.12 (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br><span class="line">Connection id:          2</span><br><span class="line">Current database:       mysql</span><br><span class="line">Current user:           root@localhost</span><br><span class="line">SSL:                    Not in use</span><br><span class="line">Current pager:          stdout</span><br><span class="line">Using outfile:          &#x27;&#x27;</span><br><span class="line">Using delimiter:        ;</span><br><span class="line">Server version:         5.7.37 MySQL Community Server (GPL)</span><br><span class="line">Protocol version:       10</span><br><span class="line">Connection:             Localhost via UNIX socket</span><br><span class="line">Server characterset:    latin1</span><br><span class="line">Db     characterset:    latin1</span><br><span class="line">Client characterset:    utf8</span><br><span class="line">Conn.  characterset:    utf8</span><br><span class="line">UNIX socket:            /tmp/mysql.sock</span><br><span class="line">Uptime:                 39 sec</span><br><span class="line"></span><br><span class="line">Threads: 1  Questions: 44  Slow queries: 0  Opens: 136  Flush tables: 1  Open tables: 129  Queries per second avg: 1.128</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">(root@localhost) [mysql]&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<br/>

<h3 id="é€šè¿‡TCP-IPåè®®è¿œç¨‹è¿æ¥"><a href="#é€šè¿‡TCP-IPåè®®è¿œç¨‹è¿æ¥" class="headerlink" title="é€šè¿‡TCP/IPåè®®è¿œç¨‹è¿æ¥"></a>é€šè¿‡TCP/IPåè®®è¿œç¨‹è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -h192.168.163.200 -P3306 -p</span><br></pre></td></tr></table></figure>

<h3 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h3><ul>
<li>mysql 5.7å¼€å§‹ å®¢æˆ·ç«¯é»˜è®¤ä½¿ç”¨sslé€šä¿¡<ul>
<li>åªæœ‰é€šè¿‡ tcp/ip çš„è¿æ¥çš„æ–¹å¼ ï¼Œsslæ‰ç”Ÿæ•ˆï¼Œsocketæ–¹å¼ä¸ä¼šç”Ÿæ•ˆ</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># å¼€å¯sslåï¼Œé»˜è®¤ä½¿ç”¨none</span><br><span class="line">mysql -uroot -h192.168.163.200 -P3306 -p --ssl-mode=none</span><br><span class="line"></span><br><span class="line">mysql -uroot -h192.168.163.200 -P3306 -p --ssl-mode=DISABLED</span><br><span class="line"></span><br><span class="line">alter user &#x27;any&#x27;@&#x27;%&#x27; require ssl;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ssl åŠ å¯† å¯¹æ€§èƒ½æœ‰å½±å“ï¼ˆå½±å“è¾ƒå°ï¼‰</li>
<li>sslçš„å¦ä¸€ç§æ–¹å¼ x509<ul>
<li>è¦æ±‚ï¼šç”¨æˆ·å + å¯†ç  + å¯ç”¨ssl+å…¬é’¥ </li>
</ul>
</li>
</ul>
<h2 id="ä½œä¸š-1"><a href="#ä½œä¸š-1" class="headerlink" title="ä½œä¸š"></a>ä½œä¸š</h2><blockquote>
<p>äº†è§£5.6å¦‚ä½•ä½¿ç”¨ssl</p>
</blockquote>
<h2 id="å¯†ç æ’ä»¶"><a href="#å¯†ç æ’ä»¶" class="headerlink" title="å¯†ç æ’ä»¶"></a>å¯†ç æ’ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show plugins;</span><br></pre></td></tr></table></figure>

<ul>
<li>mysql 5.6 å¼€å§‹å°±æœ‰äº†å¯†ç æ’ä»¶ <code>validate_password</code></li>
</ul>
<h3 id="validate-password"><a href="#validate-password" class="headerlink" title="validate_password"></a>validate_password</h3><ul>
<li><code>validate_password</code>æ’ä»¶å®‰è£…æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ï¼ˆ1ï¼‰åœ¨my.cnfæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œå†é‡å¯mysql</span><br><span class="line">[mysqld]</span><br><span class="line">plugin-load-add=validate_password.so</span><br><span class="line"></span><br><span class="line"># ï¼ˆ2ï¼‰æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ </span><br><span class="line">INSTALL PLUGIN validate_password SONAME &#x27;validate_password.so&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># å®‰è£…å®Œæˆæ’ä»¶åï¼Œå¯¹å¯†ç å°±æœ‰è¦æ±‚äº†</span><br><span class="line">(root@localhost) [mysql]&gt; alter user &#x27;andy&#x27;@&#x27;%&#x27; identified by &#x27;andy&#x27;;</span><br><span class="line">ERROR 1819 (HY000): Your password does not satisfy the current policy requirements</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(root@localhost) [(none)]&gt; show variables like &#x27;%validate%&#x27;;</span><br><span class="line">+--------------------------------------+--------+</span><br><span class="line">| Variable_name                        | Value  |</span><br><span class="line">+--------------------------------------+--------+</span><br><span class="line">| query_cache_wlock_invalidate         | OFF    |</span><br><span class="line">| validate_password_check_user_name    | OFF    |</span><br><span class="line">| validate_password_dictionary_file    |        |</span><br><span class="line">| validate_password_length             | 8      |</span><br><span class="line">| validate_password_mixed_case_count   | 1      |</span><br><span class="line">| validate_password_number_count       | 1      |</span><br><span class="line">| validate_password_policy             | MEDIUM |</span><br><span class="line">| validate_password_special_char_count | 1      |</span><br><span class="line">+--------------------------------------+--------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯¥æ’ä»¶<ul>
<li>å¦‚æœä½¿ç”¨è¯¥æ’ä»¶ï¼Œåˆ™éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åšå¦‚ä¸‹é…ç½® </li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># é»˜è®¤mysqlå¯åŠ¨å°±ä½¿ç”¨è¯¥æ’ä»¶</span><br><span class="line">[mysqld]</span><br><span class="line">plugin-load = validate_password.so</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">Policy</th>
<th align="left">Tests Performed</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>0</code> or <code>LOW</code></td>
<td align="left">Length</td>
</tr>
<tr>
<td align="left"><code>1</code> or <code>MEDIUM</code></td>
<td align="left">Length; numeric, lowercase/uppercase, and special characters</td>
</tr>
<tr>
<td align="left"><code>2</code> or <code>STRONG</code></td>
<td align="left">Length; numeric, lowercase/uppercase, and special characters; dictionary file</td>
</tr>
</tbody></table>
<ul>
<li>Strongä¸­æœ‰ä¸€ä¸ª dictionary file ã€‚è¯¥dictionary file è¡¨ç¤ºï¼Œè®¾ç½®çš„å¯†ç ä¸­ä¸èƒ½åŒ…å« dictionary file æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²ï¼ˆå³dictionary file ä¸­çš„å­—ç¬¦ä¸²ä¸èƒ½ä½œä¸ºå¯†ç çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚å¦‚æœè¦å¯åŠ¨è¿™ä¸ªç­–ç•¥ï¼Œé‚£ä¹ˆ  <code>validate_password_policy </code> è¦è®¾ç½®ä¸º <code>Strong</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">(root@localhost) [(none)]&gt; set global validate_password_dictionary_file = &#x27;/mysql_data/dic.file&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">(root@localhost) [(none)]&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@localhost mysql_data]# vim /mysql_data/dic.file</span><br><span class="line">[root@localhost mysql_data]# ll /mysql_data/</span><br><span class="line">æ€»ç”¨é‡ 123008</span><br><span class="line">-rw-r-----. 1 mysql mysql       56 5æœˆ  19 00:45 auto.cnf</span><br><span class="line">-rw-r-----. 1 mysql mysql        5 5æœˆ  20 00:06 bogon.pid</span><br><span class="line">-rw-------. 1 mysql mysql     1680 5æœˆ  19 00:45 ca-key.pem</span><br><span class="line">-rw-r--r--. 1 mysql mysql     1112 5æœˆ  19 00:45 ca.pem</span><br><span class="line">-rw-r--r--. 1 mysql mysql     1112 5æœˆ  19 00:45 client-cert.pem</span><br><span class="line">-rw-------. 1 mysql mysql     1676 5æœˆ  19 00:45 client-key.pem</span><br><span class="line">-rw-r--r--. 1 root  root        13 5æœˆ  21 21:51 dic.file</span><br><span class="line">-rw-r-----. 1 mysql mysql    47519 5æœˆ  21 21:50 error.log</span><br><span class="line">-rw-r-----. 1 mysql mysql      333 5æœˆ  21 21:40 ib_buffer_pool</span><br><span class="line">-rw-r-----. 1 mysql mysql 12582912 5æœˆ  21 21:40 ibdata1</span><br><span class="line">-rw-r-----. 1 mysql mysql 50331648 5æœˆ  21 21:40 ib_logfile0</span><br><span class="line">-rw-r-----. 1 mysql mysql 50331648 5æœˆ  19 00:45 ib_logfile1</span><br><span class="line">-rw-r-----. 1 mysql mysql 12582912 5æœˆ  21 21:40 ibtmp1</span><br><span class="line">-rw-r-----. 1 mysql mysql        5 5æœˆ  21 21:40 localhost.pid</span><br><span class="line">drwxr-x---. 2 mysql mysql     4096 5æœˆ  19 00:45 mysql</span><br><span class="line">drwxr-x---. 2 mysql mysql     8192 5æœˆ  19 00:45 performance_schema</span><br><span class="line">-rw-------. 1 mysql mysql     1680 5æœˆ  19 00:45 private_key.pem</span><br><span class="line">-rw-r--r--. 1 mysql mysql      452 5æœˆ  19 00:45 public_key.pem</span><br><span class="line">-rw-r--r--. 1 mysql mysql     1112 5æœˆ  19 00:45 server-cert.pem</span><br><span class="line">-rw-------. 1 mysql mysql     1680 5æœˆ  19 00:45 server-key.pem</span><br><span class="line">drwxr-x---. 2 mysql mysql     8192 5æœˆ  19 00:45 sys</span><br><span class="line">[root@localhost mysql_data]# chown -R mysql:mysql dic.file</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>validate_password_check_user_name </code> è¿™ä¸ªå¼€å¯åï¼Œè¡¨ç¤ºå¯†ç ä¸­ä¸èƒ½ä½¿ç”¨ç”¨æˆ·åï¼Œé€†åºä¹Ÿä¸è¡Œ</li>
<li>ä½œä¸ºäº†è§£ã€‚å¯ä»¥çœ‹çœ‹å¤§å‚å®é™…ç”Ÿäº§ç¯å¢ƒï¼Œå¦‚ä½•ä½¿ç”¨å¯†ç çš„ã€‚</li>
</ul>
<h2 id="å¤šå®ä¾‹å®‰è£…"><a href="#å¤šå®ä¾‹å®‰è£…" class="headerlink" title="å¤šå®ä¾‹å®‰è£…"></a>å¤šå®ä¾‹å®‰è£…</h2><ul>
<li>ä¸€å°æœåŠ¡å™¨ä¸Šå®‰è£…å¤šä¸ªå®ä¾‹ï¼Œå……åˆ†åˆ©ç”¨ç¡¬ä»¶èµ„æº</li>
<li>mysql åŸç”Ÿå°±æ”¯æŒå¤šå®ä¾‹å®‰è£…</li>
<li>é€šè¿‡ <code>mysqld_multi</code> å®ç°</li>
</ul>
<h3 id="å¤šå®ä¾‹å®‰è£…æ“ä½œæµç¨‹"><a href="#å¤šå®ä¾‹å®‰è£…æ“ä½œæµç¨‹" class="headerlink" title="å¤šå®ä¾‹å®‰è£…æ“ä½œæµç¨‹"></a>å¤šå®ä¾‹å®‰è£…æ“ä½œæµç¨‹</h3><ul>
<li>åœ¨é…ç½®æ–‡ä»¶ <code>my.cnf</code> ä¸­æ–°å¢åŠ å¦‚ä¸‹å†…å®¹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[mysqld1]</span><br><span class="line">port = 3307</span><br><span class="line">user = mysql</span><br><span class="line">datadir = /mysql_data1</span><br><span class="line">socket = /tmp/mysql1.sock</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ‰§è¡Œ <code>mysqld --initialize --datadir=/mysql_data1</code> ä¼šå‘ç°ç”Ÿæˆäº† <code>/mysql_data1/</code>ç›®å½•ï¼Œåˆå§‹å¯†ç åœ¨ <code>error.log</code>ä¸­</p>
</li>
<li><p>åœ¨é…ç½®æ–‡ä»¶ <code>my.cnf</code> ä¸­æ–°å¢ <code>mysqld_multi</code>ï¼Œå¹¶å¢åŠ å¦‚ä¸‹å†…å®¹</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[mysqld_multi]</span><br><span class="line">mysqld = /usr/local/mysql/bin/mysqld_safe</span><br><span class="line">mysqladmin = /usr/local/mysql/bin/mysqladmin</span><br><span class="line">log = /usr/local/mysql/mysqld_multi.log</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œ <code> mysqld_multi report</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# mysqld_multi report</span><br><span class="line">Reporting MySQL servers</span><br><span class="line">MySQL server from group: mysqld1 is not running</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ä¸å¯åœã€ç™»å½•</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# mysqld_multi start 1</span><br><span class="line"></span><br><span class="line">[root@localhost mysql]# mysqld_multi report</span><br><span class="line">Reporting MySQL servers</span><br><span class="line">MySQL server from group: mysqld1 is running</span><br><span class="line"></span><br><span class="line">[root@localhost mysql_data1]# mysql -uroot -p&#x27;huah5jqpdJ?+&#x27; -S/tmp/mysql1.sock</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># å¯ä»¥æŸ¥çœ‹åˆ°3307 ç«¯å£å·²ç»è¢«å ç”¨</span><br><span class="line">[root@localhost mysql_data1]# netstat -ntl</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN</span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN</span><br><span class="line">tcp6       0      0 :::3306                 :::*                    LISTEN</span><br><span class="line">tcp6       0      0 :::3307                 :::*                    LISTEN</span><br><span class="line">[root@localhost mysql_data1]#</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼š<ul>
<li>æœ€å¼€å§‹å®‰è£…çš„ mysql å®ä¾‹ ä¹Ÿå¯ä»¥ä½¿ç”¨ mysql_multi start è¿›è¡Œå¯åŠ¨ï¼Œé…ç½®å¥½ä¾¿å¯</li>
<li>é»˜è®¤ error.log åœ¨å„è‡ªçš„mysql data ç›®å½•ä¸­ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®</li>
</ul>
</li>
</ul>
<br/>

<h1 id="ç¬¬05å¤©-MySQLå¯åŠ¨ä¸å…³é—­-amp-å¤šå®ä¾‹å®‰è£…ä¸åŒç‰ˆæœ¬æ•°æ®åº“"><a href="#ç¬¬05å¤©-MySQLå¯åŠ¨ä¸å…³é—­-amp-å¤šå®ä¾‹å®‰è£…ä¸åŒç‰ˆæœ¬æ•°æ®åº“" class="headerlink" title="ç¬¬05å¤©_MySQLå¯åŠ¨ä¸å…³é—­ &amp; å¤šå®ä¾‹å®‰è£…ä¸åŒç‰ˆæœ¬æ•°æ®åº“"></a>ç¬¬05å¤©_MySQLå¯åŠ¨ä¸å…³é—­ &amp; å¤šå®ä¾‹å®‰è£…ä¸åŒç‰ˆæœ¬æ•°æ®åº“</h1><h2 id="MySQL-çš„å¯åŠ¨ä¸å…³é—­"><a href="#MySQL-çš„å¯åŠ¨ä¸å…³é—­" class="headerlink" title="MySQL çš„å¯åŠ¨ä¸å…³é—­"></a>MySQL çš„å¯åŠ¨ä¸å…³é—­</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/mysql.server start</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost bin]# mysqld --defaults-file=/etc/my.cnf</span><br><span class="line"></span><br><span class="line"># å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨mysqlï¼Œå½“mysqlè¿›ç¨‹æŒ‚äº†ä»¥åï¼Œä¼šè‡ªåŠ¨æŠŠmysqlè¿›ç¨‹æ‹‰èµ·æ¥</span><br><span class="line">[root@localhost bin]# mysqld_safe --user=mysql &amp;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># éœ€è¦å¯†ç </span><br><span class="line">(root@localhost) [(none)]&gt; shutdown;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line"># ä¸æä¾›ç”¨æˆ·åå’Œå¯†ç </span><br><span class="line">/etc/init.d/mysql.server stop</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># éœ€è¦å¯†ç </span><br><span class="line">[root@localhost bin]# mysqladmin -uroot -proot shutdown</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ºä»€ä¹ˆmysqlä¸éœ€è¦å¯†ç å°±å¯ä»¥å…³é—­å‘¢ï¼Ÿ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æ˜¯å®‰å…¨å…³é—­çš„</span><br><span class="line">/etc/init.d/mysql.server stop</span><br><span class="line"></span><br><span class="line"># æ˜¯ä¸€ä¸ªshellæ‰§è¡Œè„šæœ¬</span><br><span class="line">[root@localhost bin]# file /etc/init.d/mysql.server</span><br><span class="line">/etc/init.d/mysql.server: POSIX shell script, ASCII text executable</span><br><span class="line"></span><br><span class="line"># mysqlåˆ©ç”¨äº†linuxä¸­çš„ä¿¡å·æœºåˆ¶ ,æŸ¥çœ‹ /etc/init.d/mysql.server è„šæœ¬ï¼Œå¯ä»¥çœ‹åˆ° kill -0 [è¿›ç¨‹å·]</span><br><span class="line"></span><br><span class="line">     if (kill -0 $mysqld_pid 2&gt;/dev/null)</span><br><span class="line">      then</span><br><span class="line">        echo $echo_n &quot;Shutting down MySQL&quot;</span><br><span class="line">        kill $mysqld_pid</span><br><span class="line"></span><br><span class="line"># kill -0 [è¿›ç¨‹å·] è¡¨ç¤º å‘é€ä¸€ä¸ªä¿¡å·ç»™è¿™ä¸ªè¿›ç¨‹ã€‚ ç„¶å kill æ‰è¿™ä¸ªè¿›ç¨‹ï¼Œæ‰€ä»¥å…¶æ˜¯å®‰å…¨å…³é—­çš„</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[mysqld_multi]</span><br><span class="line"># ä½¿ç”¨å“ªä¸ªç¨‹åºæ¥å¯åŠ¨mysql</span><br><span class="line">mysqld = /usr/local/mysql/bin/mysqld_safe</span><br><span class="line"># é€šè¿‡mysqladmin è¿™ä¸ªå‘½ä»¤æ¥å…³é—­æ•°æ®åº“</span><br><span class="line">mysqladmin = /usr/local/mysql/bin/mysqladmin</span><br><span class="line">log = /usr/local/mysql/mysqld_multi.log</span><br><span class="line">user=root</span><br><span class="line">pass=Root1_2022</span><br></pre></td></tr></table></figure>

<br/>

<h2 id="MySQL-å¿˜è®°å¯†ç äº†æ€ä¹ˆåŠ"><a href="#MySQL-å¿˜è®°å¯†ç äº†æ€ä¹ˆåŠ" class="headerlink" title="MySQL å¿˜è®°å¯†ç äº†æ€ä¹ˆåŠ"></a>MySQL å¿˜è®°å¯†ç äº†æ€ä¹ˆåŠ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># ç¼–è¾‘ mysqlé…ç½®æ–‡ä»¶ my.cnfï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">skip-grant-tables</span><br><span class="line"></span><br><span class="line"># ç„¶åé‡å¯æ•°æ®åº“</span><br><span class="line"></span><br><span class="line"># æ­¤æ—¶ç™»å½•mysqlä¸éœ€è¦å¯†ç ,use mysql ç„¶åä¿®æ”¹userè¡¨çš„å¯†ç å­—æ®µå³å¯</span><br><span class="line">update mysql set authentication_string = password(&#x27;root&#x27;) where user=&#x27;root&#x27; and host = &#x27;localhost&#x27;;</span><br><span class="line"></span><br><span class="line">(root@localhost) [mysql]&gt; flush privileges;</span><br><span class="line"></span><br><span class="line"># å†å»æ‰å‚æ•°ï¼Œé‡å¯æ•°æ®åº“å³å¯</span><br></pre></td></tr></table></figure>

<h2 id="MySQL5-7-çš„æ–°å‚æ•°"><a href="#MySQL5-7-çš„æ–°å‚æ•°" class="headerlink" title="MySQL5.7 çš„æ–°å‚æ•°"></a>MySQL5.7 çš„æ–°å‚æ•°</h2><ul>
<li><code>default_password_lifetime</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#x27;jeffrey&#x27;@&#x27;localhost&#x27; PASSWORD EXPIRE;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">default_password_lifetime=180</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">default_password_lifetime=0</span><br><span class="line"></span><br><span class="line">SET GLOBAL default_password_lifetime = 180;</span><br><span class="line">SET GLOBAL default_password_lifetime = 0;</span><br></pre></td></tr></table></figure>









<h1 id="ç¬¬07å¤©-æ•°æ®ç±»å‹ã€å¸¸ç”¨å‡½æ•°ã€ç¼–ç "><a href="#ç¬¬07å¤©-æ•°æ®ç±»å‹ã€å¸¸ç”¨å‡½æ•°ã€ç¼–ç " class="headerlink" title="ç¬¬07å¤©_æ•°æ®ç±»å‹ã€å¸¸ç”¨å‡½æ•°ã€ç¼–ç "></a>ç¬¬07å¤©_æ•°æ®ç±»å‹ã€å¸¸ç”¨å‡½æ•°ã€ç¼–ç </h1><h1 id="å­¦ä¹ å¤‡æ³¨"><a href="#å­¦ä¹ å¤‡æ³¨" class="headerlink" title="å­¦ä¹ å¤‡æ³¨"></a>å­¦ä¹ å¤‡æ³¨</h1><blockquote>
<ol>
<li>ç¬¬ä¸€å¤©çš„å†…å®¹ï¼Œæœ€åè¿˜éœ€è¦è®¤çœŸå­¦ä¹ ä¸€éï¼Œåšå¥½ç¬”è®°</li>
<li>æƒé™ç®¡ç†è¿™å—ï¼Œè¿˜éœ€è¦å®è·µï¼Œç»§ç»­ç†Ÿæ‚‰</li>
</ol>
</blockquote>
<br>

<img src="" width="80%"/>

<br>



































































































































































































































<h1 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h1><blockquote>
<p>ç†Ÿæ‚‰mysqlå®˜ç½‘</p>
<p>hexo new post â€œMySQL - ç®€ä»‹ã€ç‰ˆæœ¬ç‰¹æ€§ä¸é€‰æ‹©ã€å®‰è£…ä¸åˆå§‹åŒ–é…ç½®ã€å‡çº§ã€å¯åœâ€</p>
</blockquote>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li>
            <span class="type">Post title</span>ï¼š<span class="content">å§œæ‰¿å°§ MySQL DBAå®æˆ˜ study notes</span>
        </li>
        <li>
            <span class="type">Post author</span>ï¼š<span class="content">ratears</span>
        </li>
        <li>
            <span class="type">Create time</span>ï¼š<span class="content">2022-05-18 01:33:04</span>
        </li>
        <li class="post-link">
            <span class="type">Post link</span>ï¼š<span class="content">å§œæ‰¿å°§-MySQL-DBAå®æˆ˜-study-notes/</span>
        </li>
        <li>
            <span class="type">Copyright Notice</span>ï¼š<span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span>
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="../tags/mysql/">#mysql</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="../%E3%80%8ANginx%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5%EF%BC%8DNginx%E4%B8%AD%E9%97%B4%E4%BB%B6%E3%80%8Bstudy-notes/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">ã€ŠNginxå…¥é—¨åˆ°å®è·µï¼Nginxä¸­é—´ä»¶ã€‹study notes</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="../kingbase/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">kingbase</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
                <div class="comment-container">
                    
<div class="comments-container">
    <div id="comments-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments"></i>&nbsp;Comments
    </div>
    
        
            

    <div class="valine-container">
        <script data-pjax src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
        <div id="vcomments"></div>
        <script data-pjax>
          function loadValine() {
            new Valine({
              el: '#vcomments',
              appId: 'qabhDeoP5PwMdjG1eEotHlts-gzGzoHsz',
              appKey: 'fVkafVmPzZAqx86MUOuPhmuE',
              meta: ['nick', 'mail', 'link'],
              avatar: 'wavatar',
              enableQQ: true,
              placeholder: 'ğŸ˜œ å°½æƒ…åæ§½å§~',
              lang: 'en'.toLowerCase()
            });

            function getAuthor(language) {
              switch (language) {
                case 'en':
                  return 'Author';
                case 'zh-CN':
                  return 'åšä¸»';
                default:
                  return 'Master';
              }
            }

            // Add "Author" identify
            const getValineDomTimer = setInterval(() => {
              const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
              if (vcards.length > 0) {
                let author = 'ratears';

                if (author) {
                  for (let vcard of vcards) {
                    const vnick_dom = vcard.querySelector('.vhead .vnick');
                    const vnick = vnick_dom.innerHTML;
                    if (vnick === author) {
                      vnick_dom.innerHTML = `${vnick} <span class="author">${getAuthor(KEEP.hexo_config.language)}</span>`
                    }
                  }
                }
                clearInterval(getValineDomTimer);
              } else {
                clearInterval(getValineDomTimer);
              }
            }, 2000);
          }

          if ('true' === 'true') {
            const loadValineTimeout = setTimeout(() => {
              loadValine();
              clearTimeout(loadValineTimeout);
            }, 1000);
          } else {
            window.addEventListener('DOMContentLoaded', loadValine);
          }
        </script>
    </div>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC01%E5%A4%A9-Mysql%E7%AE%80%E4%BB%8B%E4%B8%8E%E5%89%8D%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">ç¬¬01å¤©_Mysqlç®€ä»‹ä¸å‰æ™¯</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC02%E5%A4%A9-MySQL%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">ç¬¬02å¤©_MySQLå®‰è£…ä¸åŸºæœ¬å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="nav-number">2.1.</span> <span class="nav-text">MySQLå®‰è£…æ­¥éª¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-5-6-%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="nav-number">2.2.</span> <span class="nav-text">MySQL 5.6 å®‰è£…è¿‡ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-5-7-%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B"><span class="nav-number">2.3.</span> <span class="nav-text">MySQL 5.7 å®‰è£…è¿‡ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E5%90%8E%E8%BF%9B%E8%A1%8C%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">2.4.</span> <span class="nav-text">MySQLå®‰è£…æˆåŠŸåè¿›è¡ŒåŸºç¡€é…ç½®</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E5%85%B6%E5%AE%83%E9%85%8D%E7%BD%AE"><span class="nav-number">2.5.</span> <span class="nav-text">MySQLçš„å…¶å®ƒé…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95"><span class="nav-number">2.5.1.</span> <span class="nav-text">å…å¯†ç™»å½•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E5%88%B6MySQL%E7%BB%88%E7%AB%AF%E6%8F%90%E7%A4%BA%E7%AC%A6"><span class="nav-number">2.5.2.</span> <span class="nav-text">å®šåˆ¶MySQLç»ˆç«¯æç¤ºç¬¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%81%E8%AE%B8MySQL%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95"><span class="nav-number">2.5.3.</span> <span class="nav-text">å…è®¸MySQLè¿œç¨‹ç™»å½•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-5-6%E4%B8%8E5-7-%E5%AE%89%E8%A3%85%E4%B8%8A%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="nav-number">2.6.</span> <span class="nav-text">MySQL 5.6ä¸5.7 å®‰è£…ä¸Šçš„å·®å¼‚</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8BMySQL-%E5%AE%89%E8%A3%85%E5%90%8E%E7%9A%84%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="nav-number">2.7.</span> <span class="nav-text">æŸ¥çœ‹MySQL å®‰è£…åçš„é»˜è®¤å‚æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E4%B8%9A"><span class="nav-number">2.8.</span> <span class="nav-text">ä½œä¸š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-5-6-%E5%8D%87%E7%BA%A7%E5%88%B0-5-7"><span class="nav-number">2.9.</span> <span class="nav-text">MySQL 5.6 å‡çº§åˆ° 5.7</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC03%E5%A4%A9-MySQL%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">3.</span> <span class="nav-text">ç¬¬03å¤©_MySQLå®¢æˆ·ç«¯è¿æ¥ä¸æƒé™ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mysql%E6%9C%80%E4%BC%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%82%E8%80%83"><span class="nav-number">3.1.</span> <span class="nav-text">mysqlæœ€ä¼˜é…ç½®æ–‡ä»¶å‚è€ƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.2.</span> <span class="nav-text">MySQLå¯ä»¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%82%E6%95%B0"><span class="nav-number">3.3.</span> <span class="nav-text">MySQLçš„é…ç½®æ–‡ä»¶å‚æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E5%8F%82%E6%95%B0%E5%88%86%E7%B1%BB"><span class="nav-number">3.4.</span> <span class="nav-text">MySQLçš„å‚æ•°åˆ†ç±»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D%E4%B8%8B%EF%BC%8C%E6%9F%A5%E7%9C%8B%E5%85%B6%E5%AE%83%E8%BF%9E%E6%8E%A5%E7%9A%84-variables"><span class="nav-number">3.4.1.</span> <span class="nav-text">å½“å‰ä¼šè¯ä¸‹ï¼ŒæŸ¥çœ‹å…¶å®ƒè¿æ¥çš„ variables</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">3.5.</span> <span class="nav-text">æƒé™ç®¡ç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86"><span class="nav-number">3.6.</span> <span class="nav-text">èµ„æºç®¡ç†</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC04%E5%A4%A9-SSL%E5%8A%A0%E5%AF%86%E8%BF%9E%E6%8E%A5%E4%B8%8E%E5%AF%86%E7%A0%81%E6%8F%92%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">ç¬¬04å¤©_SSLåŠ å¯†è¿æ¥ä¸å¯†ç æ’ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5MySQL%E5%AE%9E%E4%BE%8B"><span class="nav-number">4.1.</span> <span class="nav-text">è¿æ¥MySQLå®ä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E6%9C%AC%E5%9C%B0socket%E8%BF%9B%E8%A1%8C%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.1.1.</span> <span class="nav-text">é€šè¿‡æœ¬åœ°socketè¿›è¡Œè¿æ¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87TCP-IP%E5%8D%8F%E8%AE%AE%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.1.2.</span> <span class="nav-text">é€šè¿‡TCP&#x2F;IPåè®®è¿œç¨‹è¿æ¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SSL"><span class="nav-number">4.1.3.</span> <span class="nav-text">SSL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E4%B8%9A-1"><span class="nav-number">4.2.</span> <span class="nav-text">ä½œä¸š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%86%E7%A0%81%E6%8F%92%E4%BB%B6"><span class="nav-number">4.3.</span> <span class="nav-text">å¯†ç æ’ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#validate-password"><span class="nav-number">4.3.1.</span> <span class="nav-text">validate_password</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85"><span class="nav-number">4.4.</span> <span class="nav-text">å¤šå®ä¾‹å®‰è£…</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-number">4.4.1.</span> <span class="nav-text">å¤šå®ä¾‹å®‰è£…æ“ä½œæµç¨‹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC05%E5%A4%A9-MySQL%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%85%B3%E9%97%AD-amp-%E5%A4%9A%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.</span> <span class="nav-text">ç¬¬05å¤©_MySQLå¯åŠ¨ä¸å…³é—­ &amp; å¤šå®ä¾‹å®‰è£…ä¸åŒç‰ˆæœ¬æ•°æ®åº“</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%85%B3%E9%97%AD"><span class="nav-number">5.1.</span> <span class="nav-text">MySQL çš„å¯åŠ¨ä¸å…³é—­</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="nav-number">5.2.</span> <span class="nav-text">MySQL å¿˜è®°å¯†ç äº†æ€ä¹ˆåŠ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL5-7-%E7%9A%84%E6%96%B0%E5%8F%82%E6%95%B0"><span class="nav-number">5.3.</span> <span class="nav-text">MySQL5.7 çš„æ–°å‚æ•°</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC07%E5%A4%A9-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%81%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E3%80%81%E7%BC%96%E7%A0%81"><span class="nav-number">6.</span> <span class="nav-text">ç¬¬07å¤©_æ•°æ®ç±»å‹ã€å¸¸ç”¨å‡½æ•°ã€ç¼–ç </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E5%A4%87%E6%B3%A8"><span class="nav-number">7.</span> <span class="nav-text">å­¦ä¹ å¤‡æ³¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%87%E6%B3%A8"><span class="nav-number">8.</span> <span class="nav-text">å¤‡æ³¨</span></a></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2017</span> -
            
            2022
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">ratears</a>
            
        </div>
        
            <script async data-pjax
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                
                
                    Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.5.2</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/code-block.js"></script>




<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/toc.js"></script>
        
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.5.2/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
