---
title: 浅析 I/O（2）—— I/O分类
author: ratears
categories:
	- [Operating-Systems,I/O]
tags:
	- Operating-Systems
	- I/O
date: 2022-09-19 22:05:34
updated: 2022-09-19 22:05:34
---

<br>

- 通常用户进程中的一个完整IO分为两阶段：**用户进程空间<- ->内核空间**、**内核空间<- ->设备空间(磁盘、网络等)**。

<br>

<br>

# 网络IO & 磁盘IO

&emsp;&emsp;IO从读取数据的来源分为**内存IO**、 **网络IO**和**磁盘IO**三种，通常我们说的IO指的是后两者(因为内存IO的读写速度比网络IO和磁盘IO快的多)。

&emsp;&emsp;I/O按照设备来分的话，分为两种：一种是网络I/O，也就是通过网络进行数据的拉取和输出。一种是磁盘I/O，主要是对磁盘进行读写工作。

|  类型  | 概念解释                                                     |
| :----: | :----------------------------------------------------------- |
| 网络IO | 等待网络数据到达网卡→把网卡中的数据读取到内核缓冲区，然后从内核缓冲区复制数据到进程空间 |
| 磁盘IO | 把数据从磁盘中读取到内核缓冲区，然后从内核缓冲区复制数据到进程空间 |

> Tips：**由于CPU和内存的速度远远高于外部设备（网卡，磁盘等）的速度，所以在IO编程中，存在速度严重不匹配的问题。**

<br>

<br>

# 同步IO & 异步IO

|  类型  | 概念解释                                                     |
| :----: | :----------------------------------------------------------- |
| 同步IO | A调用B，B的处理是同步的，在处理完之前他不会通知A，只有处理完之后才会明确的通知A。**B在没有处理完A的请求时不能处理其他请求；** |
| 异步IO | A调用B，B的处理是异步的，B在接到请求后先告诉A我已经接到请求了，然后异步去处理，处理完之后通过回调等方式再通知A。**B在处理A请求的同时，也可以接着处理其他人发送过来的请求；** |

&emsp;&emsp;同步和异步最大的区别就是被调用方的**执行方式**和**返回时机**。同步指的是被调用方做完事情之后再返回，异步指的是被调用方先返回，然后再做事情，做完之后再想办法通知调用方。

<br>

<br>

# 阻塞IO & 非阻塞IO

|   类型   | 概念解释                                         |
| :------: | :----------------------------------------------- |
| 非阻塞IO | A调用B，A不用一直等着B的返回，先去忙别的事情了。 |
|  阻塞IO  | A调用B，A一直等着B的返回，别的事情什么也不干。   |

&emsp;&emsp;阻塞和非阻塞最大的区别就**是在被调用方返回结果之前的这段时间内，调用方是否一直等待**。阻塞指的是调用方一直等待别的事情什么都不做。非阻塞指的是调用方先去忙别的事情。

<br>

> **<font color="red">Tips：同步IO和异步IO强调的是被调用方（B），阻塞IO和非阻塞IO强调的是调用方（A）；</font>**

<br>

<br>

<br>